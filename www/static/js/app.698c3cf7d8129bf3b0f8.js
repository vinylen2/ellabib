webpackJsonp([1],[,,,,,,,,,function(e,t,a){"use strict";var n=a(176),i=a.n(n);t.a=i.a.create({baseURL:"https://api.ellabib.se",withCredentials:!0})},function(e,t,a){"use strict";var n=a(9);t.a={getAll:function(){return n.a.get("books/").then(function(e){return e.data})},get:function(e){return n.a.get("books/id/"+e).then(function(e){return e.data})},getFromSlug:function(e){return n.a.get("books/slug/"+e).then(function(e){return e.data})},getFromIsbn:function(e){return n.a.get("books/isbn/"+e).then(function(e){return e.data})},getAllFromGenres:function(e){return n.a.get("books",{params:{genre:e}}).then(function(e){return e.data})},publishBookFromIsbn:function(e,t){return n.a.post("books/publish/isbn",{isbn:e,genreId:t}).then(function(e){return e.data})},publishBookFromManualInput:function(e,t,a,i,s,r){return n.a.post("books/publish/manual",{isbn:e,genreId:t,title:a,pages:i,authorId:s,imageUrl:r}).then(function(e){return e.data})},search:function(e){return n.a.get("books/search",{params:e}).then(function(e){return e.data})}}},function(e,t,a){"use strict";t.a={images:"https://ellabib.se/images/",audio:"https://ellabib.se/audio/"}},,,,function(e,t,a){"use strict";var n=a(9);t.a={getAll:function(e){return n.a.get("reviews/id/"+e).then(function(e){return e.data})},create:function(e){return n.a.post("reviews/",e).then(function(e){return e.data})},getInactive:function(){return n.a.get("reviews/inactive").then(function(e){return e.data})},bulkActivate:function(e){return n.a.patch("reviews/",e).then(function(e){return e.data})},editReviewAudio:function(e){return n.a.patch("reviews/audio/edit",e).then(function(e){return e.data})}}},,,,,,,,,function(e,t,a){"use strict";var n=a(9);t.a={adminLogin:function(e){return n.a.post("auth/admin",e).then(function(e){return e.data})},ip:function(){return n.a.get("auth/").then(function(e){return e.data})}}},,,,,,,,,,,function(e,t,a){"use strict";var n=a(8),i=a(307),s=a(306),r=a.n(s);n.a.use(i.a),t.a=new i.a.Store({state:{isAdmin:!1,isAllowedIp:!1,cordova:{isApp:!1,isActive:!1},isAndroid:!1},getters:{isDeviceWithWebRTC:function(e){return e.cordova.isApp?e.cordova.isApp:!!e.isAndroid&&e.isAndroid},isAllowedToPublish:function(e){return!(!e.isAdmin&&!e.isAllowedIp)}},mutations:{changeAdminState:function(e){e.isAdmin=!e.isAdmin},isAndroid:function(e){e.isAndroid=/(android)/i.test(navigator.userAgent)},isAllowedIp:function(e){e.isAllowedIp=!0}},plugins:[r()({storage:window.sessionStorage})]})},,,,,,function(e,t,a){"use strict";var n=a(9);t.a={getAll:function(){return n.a.get("genres/").then(function(e){return e.data})},create:function(e){return n.a.post("genres/",e).then(function(e){return e.data})}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){function n(e){a(246)}var i=a(1)(a(199),a(288),n,"data-v-049da9e4",null);e.exports=i.exports},function(e,t,a){function n(e){a(252)}var i=a(1)(a(200),a(294),n,"data-v-43636d50",null);e.exports=i.exports},function(e,t,a){"use strict";var n=a(8),i=a(303),s=a(279),r=a.n(s),o=a(281),c=a.n(o),l=a(278),u=a.n(l),d=a(285),v=a.n(d),m=a(286),f=a.n(m),h=a(277),p=a.n(h),g=a(284),b=a.n(g),_=a(276),w=a.n(_),k=a(282),C=a.n(k);n.a.use(i.a),t.a=new i.a({routes:[{path:"/",name:"frontpage",component:c.a},{path:"/books",name:"books",component:r.a},{path:"/book/:slug",name:"bok",component:u.a,props:!0},{path:"/book/:slug/review",name:"publish-review",component:v.a,props:!0},{path:"/scanner",name:"scanner",component:f.a},{path:"/about",name:"about",component:w.a},{path:"/login",name:"login",component:C.a},{path:"/activate-reviews",name:"activate-reviews",component:p.a},{path:"/post-book",name:"post-book",component:b.a}]})},function(e,t,a){function n(e){a(257)}var i=a(1)(a(196),a(299),n,"data-v-7a42d257",null);e.exports=i.exports},,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var n=a(9);t.a={getAll:function(){return n.a.get("authors/").then(function(e){return e.data})},create:function(e,t){return n.a.post("authors/",{firstname:e,lastname:t}).then(function(e){return e.data})},find:function(e){return n.a.post("authors/find",e).then(function(e){return e.data})}}},function(e,t,a){"use strict";function n(){r.a.state.cordova.isActive=!0}function i(){document.addEventListener("deviceready",n,!1)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(8),r=a(35),o=a(173),c=a.n(o),l=a(172);if(s.a.config.productionTip=!1,"file:"===window.location.protocol||"3000"===window.location.port){var u=document.createElement("script");u.setAttribute("type","text/javascript"),u.setAttribute("src","cordova.js"),document.body.appendChild(u),r.a.state.cordova.isApp=!0}new s.a({store:r.a,el:"#app",router:l.a,template:"<App/>",components:{App:c.a},created:function(){i()}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(283),i=a.n(n);t.default={name:"app",components:{"nav-bar":i.a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"about"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(8),i=a(15),s=a(11),r=a(22),o=a.n(r),c=a(171),l=a.n(c),u=a(280),d=a.n(u),v=a(0),m=a.n(v),f=a(267),h=a.n(f),p=a(169),g=a.n(p),b=a(21);a.n(b);n.a.use(g.a),t.default={components:{AudioPlayer:l.a,StarRating:o.a,EditReviewAudio:d.a},data:function(){return{reviews:[],modalReview:"",modalText:"",imagesUrl:s.a.images,audioUrl:s.a.audio,selectedForActivation:[],unicodeIcons:{accepted:"&#10004;",empty:"&nbsp;",edit:"&#x2702"}}},created:function(){var e=this;this.$nextTick(function(){e.getReviews()})},methods:{removeAllReviewsForActivation:function(){this.selectedForActivation=[],this.reviews.forEach(function(e){e.active=!1})},addAllReviewsForActivation:function(){this.selectedForActivation=this.reviews,this.reviews.forEach(function(e){e.active=!0})},closeAudioModal:function(){this.popReview(1),this.$modal.hide("edit-review-audio-modal")},popReview:function(e){var t=h.a.remove(this.reviews,function(t){return t.id!==e});this.reviews=t},editAudioModal:function(e){this.$modal.show("edit-review-audio-modal",{review:e})},loadDataAudioModal:function(e){this.modalReview=e.params.review},toggleActivationArray:function(e){var t=h.a.findIndex(this.selectedForActivation,{id:e.id});-1===t?this.selectedForActivation.push(e):this.selectedForActivation.splice(t,1)},toggleAccepted:function(e){this.reviews.forEach(function(t){t.id===e.id&&(t.active=!t.active)}),this.toggleActivationArray(e)},formattedDate:function(e){return m()(e).format("Do MMMM")},formattedAudioUrl:function(e){return[this.audioUrl+e]},getReviews:function(){var e=this;i.a.getInactive().then(function(t){e.reviews=t.data})},activateReviews:function(){var e=this;i.a.bulkActivate({reviews:this.selectedForActivation}).then(function(){e.selectedForActivation="",e.getReviews()})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(309),i=a.n(n),s=a(174),r=a.n(s),o=a(175),c=a.n(o),l=a(308),u=a.n(l);t.default={name:"audio-editor",data:function(){return{wavesurfer:null,history:[],time:{selected:0,length:""},isPlaying:!1,unicodeIcons:{edit:"&#x2702;",play:"&#9658;",undo:"&#8634;"}}},props:{dataUrl:"",source:"",isEditing:!1},computed:{roundedTime:function(){return this.time.selected.toFixed(1)},waveformId:function(){return"waveform-"+this.source}},watch:{dataUrl:function(){this.resetWavesurfer()}},created:function(){var e=this;this.$nextTick(function(){e.initiateWavesurfer()})},methods:{resetWavesurfer:function(){this.wavesurfer.destroy(),this.initiateWavesurfer()},cutBlob:function(){var e=this.wavesurfer.regions.list[1],t=e.start,a=e.end;this.newSlice(1e3*t,1e3*a),this.isEdited=!0},undoSlice:function(){this.audiobufferToWav(this.history.pop())},newSlice:function(e,t){var a=this;r()(this.wavesurfer.backend.buffer,e,t,function(e,t){e?console.log(e):(a.history.push(a.wavesurfer.backend.buffer),a.audiobufferToWav(t))})},audiobufferToWav:function(e){var t=c()(e),a=new Blob([new DataView(t)],{type:"audio/wav"});this.$emit("cut",a,this.source)},initiateWavesurfer:function(){var e=this;this.wavesurfer=i.a.create({container:"#"+this.waveformId,waveColor:"violet",plugins:[u.a.create({enableDragSelection:!1})]}),this.wavesurfer.load(this.dataUrl),this.wavesurfer.on("ready",function(){var t=e.wavesurfer.getDuration();e.wavesurfer.addRegion({id:1,start:.05*t,end:.95*t,resize:!0,drag:!1,color:"rgba(0, 0, 0, 0.3)"})})},play:function(){var e=this;this.isEditing&&(this.wavesurfer.playPause(),this.isPlaying=!0,this.interval=setInterval(function(){var t=parseFloat(e.wavesurfer.getCurrentTime());e.$set(e.time,"selected",t)},100))},pause:function(){this.isEditing&&(this.wavesurfer.pause(),this.isPlaying=!1,clearInterval(this.interval))},setTime:function(){var e=this;this.$nextTick(function(){var t=parseFloat(e.wavesurfer.getCurrentTime());e.$set(e.time,"selected",t)})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(275),i=a.n(n);t.default={mixins:[i.a],data:function(){return{unicodeIcons:{play:"►",pause:"&nbsp;&#9612&#9612",reset:"&#8634;"}}},methods:{reset:function(){this.setSeek(0),this.play()}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(10),i=a(15),s=a(11),r=a(171),o=a.n(r),c=a(22),l=a.n(c),u=a(0),d=a.n(u),v=a(21);a.n(v);t.default={components:{"audio-player":o.a,StarRating:l.a},data:function(){return{imagesUrl:s.a.images,audioUrl:s.a.audio,reviews:[],randomDescription:{},currentBook:{},author:{name:"",id:null},genre:{name:"",slug:"",id:null}}},created:function(){var e=this;this.$nextTick(function(){e.getBookFromSlug()})},methods:{formattedAudioUrl:function(e){return[this.audioUrl+e]},formattedDate:function(e){return d()(e).format("Do MMMM")},randomizeNumber:function(e){return Math.floor(Math.random()*(e+1))},changeDescription:function(){var e=this.randomizeNumber(this.reviews.length-1);this.randomDescription=this.reviews[e]},getBookFromSlug:function(){var e=this;n.a.getFromSlug(this.$route.params.slug).then(function(t){if(t.data.reviews.length>0){var a=t.data.reviews,n=e.randomizeNumber(a.length-1);e.reviews=a,e.randomDescription=a[n],console.log(e.randomDescription)}e.currentBook=t.data,e.author.name=t.data.authors[0].firstname+" "+t.data.authors[0].lastname,e.author.id=t.data.authors[0].id,e.genre=t.data.genres[0]})},getReviews:function(e){var t=this;i.a.getAll(e).then(function(e){t.reviews=e.data})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(42),i=a.n(n),s=a(10),r=a(41),o=a(11);t.default={name:"books",props:["genre"],data:function(){return{selected:"",imagesUrl:o.a.images,busy:!1,books:[],image:"",genres:[],queryParams:{genre:[]}}},created:function(){this.getGenres(),this.$route.params.genre?this.addGenreToQuery(this.$route.params.genre):this.getBooks()},methods:{loadMore:function(){var e=this;setTimeout(function(){console.log("fetching"),e.busy=!0,e.getNewBooks().then(function(t){var a=e.books.concat(t);e.books=a,e.busy=!1})},1e3)},addGenreToQuery:function(e){this.queryParams.genre[0]===e.id?(this.getBooks(),this.queryParams.genre.pop()):(this.queryParams.genre[0]=e.id,this.getBooksFromGenres())},toggleSelected:function(e){this.selected===e?this.selected="":this.selected=e,this.addGenreToQuery(e)},getBooksFromGenres:function(){var e=this;s.a.getAllFromGenres(this.$data.queryParams.genre.join(",")).then(function(t){e.books=t.data})},getBooks:function(){var e=this;s.a.getAll().then(function(t){e.books=t.data})},getNewBooks:function(){return new i.a(function(e){s.a.getAll().then(function(t){e(t.data)})})},getGenres:function(){var e=this;r.a.getAll().then(function(t){e.genres=t.data,e.$route.params.genre&&e.genres.forEach(function(t){t.id===e.$route.params.genre.id&&(e.selected=t)})})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(22),i=a.n(n),s=a(15),r=a(170),o=a.n(r),c=a(11),l=a(0),u=a.n(l);t.default={name:"edit-review-audio",components:{StarRating:i.a,"audio-editor":o.a},data:function(){return{reviewLocal:this.review,audioUrl:c.a.audio,local:{audio:{description:this.review.descriptionAudioUrl,review:this.review.reviewAudioUrl},blobs:{description:"",review:""},source:{description:"description",review:"review"},isCut:{description:!1,review:!1}}}},props:{review:""},computed:{reviewFormData:function(){var e=new FormData;return e.append("reviewId",this.reviewLocal.id),e.append("descriptionRecording",this.local.blobs.description,this.reviewLocal.books[0].slug),e.append("reviewRecording",this.local.blobs.review,this.reviewLocal.books[0].slug),e}},methods:{formattedAudioUrl:function(e,t){return this.local.isCut[t]?this.local.audio[t]:""+this.audioUrl+e},updateData:function(e,t){console.log(e),this.local.isCut[t]=!0;var a=URL.createObjectURL(e);this.local.audio[t]=a,this.local.blobs[t]=e},closeModal:function(){this.$emit("close")},formattedDate:function(e){return u()(e).format("Do MMMM")},saveAndClose:function(){this.editReview()},editReview:function(){var e=this;s.a.editReviewAudio(this.reviewFormData).then(function(t){console.log(t),e.closeModal()}).catch(function(e){return console.log(e)})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"frontpage"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(24);t.default={name:"login",computed:{isAdmin:function(){return this.$store.state.isAdmin}},data:function(){return{username:"",password:"",loginFailed:!1}},created:function(){this.loginFailed=!1},methods:{login:function(){var e=this;n.a.adminLogin({username:this.username,password:this.password}).then(function(t){t.auth?(e.changeAdminState(),e.closeLogin()):e.loginFailed=!0})},closeLogin:function(){this.$emit("close")},changeAdminState:function(){this.$store.commit("changeAdminState"),this.$router.push({name:"activate-reviews"})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(24);t.default={name:"navbar",created:function(){this.ipAuth(),this.$store.commit("isAndroid"),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia},computed:{isAdmin:function(){return this.$store.state.isAdmin},isDeviceWithWebRTC:function(){return this.$store.getters.isDeviceWithWebRTC}},methods:{logout:function(){this.$store.commit("changeAdminState"),this.$router.push({name:"/"})},ipAuth:function(){var e=this;n.a.ip().then(function(t){t.ipAuth&&e.$store.commit("isAllowedIp")})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(8),i=a(274),s=a(304),r=a.n(s),o=a(10),c=a(41),l=a(194),u=a(11),d=a(169),v=a.n(d);n.a.use(v.a),n.a.use(i.a),t.default={name:"post-book",components:{vSelect:r.a},computed:{isCordovaApp:function(){return this.$store.state.cordova.isApp},isCordovaActive:function(){return this.$store.state.cordova.active},isAdmin:function(){return this.$store.state.isAdmin},genreId:function(){return this.selectedGenre.id}},data:function(){return{selectedGenre:"",isbn:"",authorSelect:!0,authorId:"",newAuthor:{firstname:"",lastname:""},genres:[],authors:[],manualData:{title:"",pages:""},manualIsbn:!1,manualPost:!1,posted:!1,imagesUrl:u.a.images}},created:function(){var e=this;this.$nextTick(function(){e.getGenres()})},methods:{validateBeforeSubmitManualBook:function(){var e=this;this.$validator.validateAll().then(function(t){t&&e.publishBookFromManualInput(e.isbn,e.genreId,e.manualData.title,e.manualData.pages,e.authorId,"nopicture.png")})},validateBeforeSubmitManualIsbn:function(){var e=this;this.$validator.validateAll().then(function(t){t&&e.publishBookFromIsbn(e.isbn,e.genreId)})},saveAuthor:function(){this.postAuthor(this.newAuthor.firstname,this.newAuthor.lastname)},addAuthorModal:function(){this.$modal.show("add-author")},leaveModal:function(){this.$modal.hide("add-author")},toggleManualPost:function(){this.getAuthors(),this.posted=!1,this.manualData.title="",this.manualData.pages="",this.isbn="",this.manualIsbn=!1,this.manualPost=!this.manualPost},toggleManualIsbn:function(){this.posted=!1,this.manualPost=!1,this.manualIsbn=!this.manualIsbn},toggleselectedGenre:function(e){this.selectedGenre===e?this.selectedGenre="":this.selectedGenre=e},bookPosted:function(){this.posted=!0,this.manualData.title="",this.manualData.pages="",this.isbn="",this.manualPost=!1},barcodeScanner:function(){var e=this;window.cordova.plugins.barcodeScanner.scan(function(t){e.isbn=t.text,e.publishBookFromIsbn(t.text,e.genreId).then(function(){e.bookPosted()})},function(e){alert("Scanning failed: "+e)})},publishBookFromIsbn:function(e,t){var a=this;o.a.publishBookFromIsbn(e,t).then(function(e){console.log(e),e.added?a.bookPosted():console.log(e.message)})},publishBookFromManualInput:function(e,t,a,n,i,s){var r=this;console.log("publishing"),o.a.publishBookFromManualInput(e,t,a,n,i,s).then(function(e){console.log(e),r.bookPosted()})},postAuthor:function(e,t){var a=this;l.a.create(e,t).then(function(e){a.authors.push(e.data),a.authorId=e.data.id,a.authorSelect=!0,a.$modal.hide("add-author")})},getGenres:function(){var e=this;c.a.getAll().then(function(t){e.genres=t.data})},getAuthors:function(){var e=this;l.a.getAll().then(function(t){e.authors=t.data})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(211),i=a.n(n),s=a(10),r=a(24),o=a(15),c=a(22),l=a.n(c),u=a(287),d=a.n(u);t.default={name:"publish-review",components:{"vue-record":d.a,"star-rating":l.a},props:["book"],data:function(){return{currentBook:{},review:{description:"",review:"",rating:0,reviewerId:null,bookId:null},audio:{description:"",review:""},published:!1}},created:function(){this.getData(),this.ipAuth()},computed:{reviewFormData:function(){var e=this,t=new FormData;return i()(this.review).forEach(function(a){t.append(a,e.review[a])}),t.append("descriptionRecording",this.audio.description,this.$route.params.slug),t.append("reviewRecording",this.audio.review,this.$route.params.slug),t}},methods:{updateAudio:function(e,t){console.log(e),this.audio[t]=e},getData:function(){this.book?(this.currentBook=this.book,this.review.bookId=this.book.id):this.getBookFromSlug()},getBookFromSlug:function(){var e=this;s.a.getFromSlug(this.$route.params.slug).then(function(t){e.currentBook=t.data,e.review.bookId=t.data.id})},postReview:function(){var e=this;o.a.create(this.reviewFormData).then(function(){e.published=!0})},ipAuth:function(){r.a.ipAuth().then(function(e){console.log(e),console.log(document.cookie)})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(42),i=a.n(n),s=a(10),r=a(272),o=a.n(r);t.default={name:"scanner",computed:{isDeviceWithWebRTC:function(){return this.$store.getters.isDeviceWithWebRTC}},data:function(){return{media:!1,scanned:!0}},methods:{quaggaScanner:function(){var e=this;o.a.init({inputStream:{name:"Live",type:"LiveStream",numOfWorkers:navigator.hardwareConcurrency,target:this.$refs.scanner,readers:["qr_code_reader"]}},function(t){if(t)return void console.log(t);o.a.start(),o.a.onDetected(function(t){console.log(t),e.getBookFromIsbn(t.codeResult.code).then(function(t){e.$router.push("/book/"+t)}).catch(function(){e.scanned=!1}),o.a.stop()})})},barcodeScanner:function(){var e=this;this.scanned=!0,window.cordova.plugins.barcodeScanner.scan(function(t){e.getBookFromIsbn(t.text).then(function(t){e.$router.push("/book/"+t)}).catch(function(){e.scanned=!1})},function(e){alert("Scanning failed: "+e)})},getBookFromIsbn:function(e){return new i.a(function(t,a){s.a.getFromIsbn(e).then(function(e){t(e.data.slug)}).catch(function(e){a(e)})})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(273),i=a.n(n),s=(a(35),a(268)),r=a.n(s),o=a(170),c=a.n(o);t.default={components:{"audio-editor":c.a},props:{blob:"",source:"",options:{default:function(){return{type:"audio",mimeType:"video/webm",bufferSize:0,sampleRate:44100,leftChannel:!1,disableLogs:!1}}}},data:function(){return{localBlob:this.blob,dataUrl:"",Timer:r()(),recordingLength:"",isRecording:!1,isEditing:!1,newRecording:0,unicodeIcons:{play:"&#9658;",record:"&#9679;",stop:"&#9632;",edit:"&#x2702;"}}},methods:{updateData:function(e){this.dataUrl=URL.createObjectURL(e),this.localBlob=e,this.$emit("updateBlob",e,this.source)},startTimer:function(){var e=this;this.Timer.start(),this.recordingLength=0,this.interval=window.setInterval(function(){var t=e.Timer.elapsedTime();e.recordingLength=(t/1e3).toFixed(1)},500)},stopTimer:function(e){this.updateData(e),window.clearInterval(this.interval),this.isEditing=!0},captureUserMedia:function(e,t,a){if(!!/BB10|BlackBerry/i.test(navigator.userAgent||"")&&(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mediaDevices.getUserMedia||navigator.mozGetUserMedia))return navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,void navigator.getUserMedia(e,t,a);navigator.mediaDevices.getUserMedia(e).then(t).catch(a)},_addStreamStopListener:function(e,t){var a="ended";"oninactive"in e&&(a="inactive"),this._stream.addEventListener(a,function(){t(),t=function(){}},!1),this._stream.getAudioTracks().forEach(function(e){e.addEventListener(a,function(){t(),t=function(){}},!1)})},startRecording:function(){var e=this;this.captureUserMedia({audio:!0},function(t){e.$emit("record:start"),e.isRecording=!0,e._stream=t,e._recordRTC=i()(t,e.options),e._recordRTC.startRecording(),e._addStreamStopListener(t,function(){e.isRecording=!1})},function(t){e.$emit("record:error"),e.isRecording=!1}),this.startTimer()},stopRecording:function(){var e=this;this._recordRTC.stopRecording(function(){e._stream.stop(),e.stopTimer(e._recordRTC.getBlob())})},deleteRecording:function(){this.isEditing=!1}},destroyed:function(){this.stopRecording()}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,function(e,t,a){function n(e){return a(i(e))}function i(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var s={"./af":55,"./af.js":55,"./ar":62,"./ar-dz":56,"./ar-dz.js":56,"./ar-kw":57,"./ar-kw.js":57,"./ar-ly":58,"./ar-ly.js":58,"./ar-ma":59,"./ar-ma.js":59,"./ar-sa":60,"./ar-sa.js":60,"./ar-tn":61,"./ar-tn.js":61,"./ar.js":62,"./az":63,"./az.js":63,"./be":64,"./be.js":64,"./bg":65,"./bg.js":65,"./bn":66,"./bn.js":66,"./bo":67,"./bo.js":67,"./br":68,"./br.js":68,"./bs":69,"./bs.js":69,"./ca":70,"./ca.js":70,"./cs":71,"./cs.js":71,"./cv":72,"./cv.js":72,"./cy":73,"./cy.js":73,"./da":74,"./da.js":74,"./de":77,"./de-at":75,"./de-at.js":75,"./de-ch":76,"./de-ch.js":76,"./de.js":77,"./dv":78,"./dv.js":78,"./el":79,"./el.js":79,"./en-au":80,"./en-au.js":80,"./en-ca":81,"./en-ca.js":81,"./en-gb":82,"./en-gb.js":82,"./en-ie":83,"./en-ie.js":83,"./en-nz":84,"./en-nz.js":84,"./eo":85,"./eo.js":85,"./es":87,"./es-do":86,"./es-do.js":86,"./es.js":87,"./et":88,"./et.js":88,"./eu":89,"./eu.js":89,"./fa":90,"./fa.js":90,"./fi":91,"./fi.js":91,"./fo":92,"./fo.js":92,"./fr":95,"./fr-ca":93,"./fr-ca.js":93,"./fr-ch":94,"./fr-ch.js":94,"./fr.js":95,"./fy":96,"./fy.js":96,"./gd":97,"./gd.js":97,"./gl":98,"./gl.js":98,"./gom-latn":99,"./gom-latn.js":99,"./he":100,"./he.js":100,"./hi":101,"./hi.js":101,"./hr":102,"./hr.js":102,"./hu":103,"./hu.js":103,"./hy-am":104,"./hy-am.js":104,"./id":105,"./id.js":105,"./is":106,"./is.js":106,"./it":107,"./it.js":107,"./ja":108,"./ja.js":108,"./jv":109,"./jv.js":109,"./ka":110,"./ka.js":110,"./kk":111,"./kk.js":111,"./km":112,"./km.js":112,"./kn":113,"./kn.js":113,"./ko":114,"./ko.js":114,"./ky":115,"./ky.js":115,"./lb":116,"./lb.js":116,"./lo":117,"./lo.js":117,"./lt":118,"./lt.js":118,"./lv":119,"./lv.js":119,"./me":120,"./me.js":120,"./mi":121,"./mi.js":121,"./mk":122,"./mk.js":122,"./ml":123,"./ml.js":123,"./mr":124,"./mr.js":124,"./ms":126,"./ms-my":125,"./ms-my.js":125,"./ms.js":126,"./my":127,"./my.js":127,"./nb":128,"./nb.js":128,"./ne":129,"./ne.js":129,"./nl":131,"./nl-be":130,"./nl-be.js":130,"./nl.js":131,"./nn":132,"./nn.js":132,"./pa-in":133,"./pa-in.js":133,"./pl":134,"./pl.js":134,"./pt":136,"./pt-br":135,"./pt-br.js":135,"./pt.js":136,"./ro":137,"./ro.js":137,"./ru":138,"./ru.js":138,"./sd":139,"./sd.js":139,"./se":140,"./se.js":140,"./si":141,"./si.js":141,"./sk":142,"./sk.js":142,"./sl":143,"./sl.js":143,"./sq":144,"./sq.js":144,"./sr":146,"./sr-cyrl":145,"./sr-cyrl.js":145,"./sr.js":146,"./ss":147,"./ss.js":147,"./sv":21,"./sv.js":21,"./sw":148,"./sw.js":148,"./ta":149,"./ta.js":149,"./te":150,"./te.js":150,"./tet":151,"./tet.js":151,"./th":152,"./th.js":152,"./tl-ph":153,"./tl-ph.js":153,"./tlh":154,"./tlh.js":154,"./tr":155,"./tr.js":155,"./tzl":156,"./tzl.js":156,"./tzm":158,"./tzm-latn":157,"./tzm-latn.js":157,"./tzm.js":158,"./uk":159,"./uk.js":159,"./ur":160,"./ur.js":160,"./uz":162,"./uz-latn":161,"./uz-latn.js":161,"./uz.js":162,"./vi":163,"./vi.js":163,"./x-pseudo":164,"./x-pseudo.js":164,"./yo":165,"./yo.js":165,"./zh-cn":166,"./zh-cn.js":166,"./zh-hk":167,"./zh-hk.js":167,"./zh-tw":168,"./zh-tw.js":168};n.keys=function(){return Object.keys(s)},n.resolve=i,e.exports=n,n.id=269},,,,,,,function(e,t,a){function n(e){a(248)}var i=a(1)(a(197),a(290),n,"data-v-2339da4e",null);e.exports=i.exports},function(e,t,a){function n(e){a(255)}var i=a(1)(a(198),a(297),n,"data-v-64ea81a9",null);e.exports=i.exports},function(e,t,a){function n(e){a(256)}var i=a(1)(a(201),a(298),n,"data-v-7323cc58",null);e.exports=i.exports},function(e,t,a){function n(e){a(249)}var i=a(1)(a(202),a(291),n,"data-v-2661fa2a",null);e.exports=i.exports},function(e,t,a){function n(e){a(260)}var i=a(1)(a(203),a(302),n,"data-v-d7eab216",null);e.exports=i.exports},function(e,t,a){function n(e){a(258)}var i=a(1)(a(204),a(300),n,"data-v-9be61e0e",null);e.exports=i.exports},function(e,t,a){function n(e){a(247)}var i=a(1)(a(205),a(289),n,"data-v-0c99582a",null);e.exports=i.exports},function(e,t,a){function n(e){a(251)}var i=a(1)(a(206),a(293),n,"data-v-3689edc2",null);e.exports=i.exports},function(e,t,a){function n(e){a(259)}var i=a(1)(a(207),a(301),n,"data-v-bda2a310",null);e.exports=i.exports},function(e,t,a){function n(e){a(254)}var i=a(1)(a(208),a(296),n,null,null);e.exports=i.exports},function(e,t,a){function n(e){a(253)}var i=a(1)(a(209),a(295),n,"data-v-547df402",null);e.exports=i.exports},function(e,t,a){function n(e){a(250)}var i=a(1)(a(210),a(292),n,null,null);e.exports=i.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"editor"},[a("div",{staticClass:"menu"},[e.isPlaying?e._e():a("div",{staticClass:"button",domProps:{innerHTML:e._s(e.unicodeIcons.play)},on:{click:e.play}}),e._v(" "),e.isPlaying?a("div",{staticClass:"button",on:{click:e.pause}},[e._v("P\n    ")]):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isEditing,expression:"isEditing"}],staticClass:"button time"},[e._v("\n      "+e._s(e.roundedTime)+"\n    ")]),e._v(" "),a("div",{staticClass:"button edit",domProps:{innerHTML:e._s(e.unicodeIcons.edit)},on:{click:e.cutBlob}}),e._v(" "),e.history.length>0?a("div",{staticClass:"button undo",domProps:{innerHTML:e._s(e.unicodeIcons.undo)},on:{click:e.undoSlice}}):e._e()]),e._v(" "),a("div",{staticClass:"waveform",attrs:{id:e.waveformId},on:{click:e.setTime}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-author flex-box"},[a("h3",[e._v("Logga in")]),e._v(" "),a("div",{staticClass:"flex-container"},[a("div",{staticClass:"flex-left-modal"},[e._v("\n        Användarnamn\n      ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{placeholder:"Användarnamn"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"flex-left-modal"},[e._v("\n        Lösenord\n      ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Lösenord"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"modal-menu"},[e.loginFailed?a("div",{staticClass:"error"},[e._v("\n          Fel användarnamn eller lösenord.\n        ")]):e._e(),e._v(" "),a("div",{staticClass:"button float close",on:{click:e.closeLogin}},[e._v("Stäng\n        ")]),e._v(" "),a("div",{staticClass:"button add",on:{click:e.login}},[e._v("Logga in\n        ")])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",[e._v("Ellabib")]),e._v(" "),a("div",{staticClass:"text"},[a("p",[e._v("Ellabib är en app för Ellagårdsskolans bibliotek. Här hittar ni bokrecensioner skrivna och upplästa av våra elever.")]),e._v(" "),a("h2",[e._v("Bilder")]),e._v(" "),a("p",[e._v("Omslagsbilder kommer från "),a("a",{attrs:{href:"https://bokhavet.se/api"}},[e._v("Bokhavets API")]),e._v(".")])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"genre-search"},e._l(e.genres,function(t){return a("a",{staticClass:"genre"},[a("img",{staticClass:"genre-icon",class:{selected:e.selected==t},attrs:{src:""+e.imagesUrl+t.slug+".png"},on:{click:function(a){e.toggleSelected(t)}}})])})),e._v(" "),a("div",{staticClass:"wrapper flex-container"},e._l(e.books,function(t){return a("div",{staticClass:"book"},[a("router-link",{staticClass:"link",attrs:{to:{name:"bok",params:{slug:t.slug}}}},[t.localImage?a("img",{staticClass:"front-img",attrs:{src:""+e.imagesUrl+t.imageUrl}}):e._e(),e._v(" "),t.localImage?e._e():a("img",{staticClass:"front-img",attrs:{src:t.imageUrl}}),e._v(" "),a("h3",[e._v(e._s(t.title))])])],1)}))])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("button",{directives:[{name:"show",rawName:"v-show",value:e.isRecording,expression:"isRecording"}],staticClass:"button stop",domProps:{innerHTML:e._s(e.unicodeIcons.stop)},on:{click:e.stopRecording}}),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.isRecording,expression:"!isRecording"}],staticClass:"button record",domProps:{innerHTML:e._s(e.unicodeIcons.record)},on:{click:e.startRecording}}),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:e.isRecording,expression:"isRecording"}],staticClass:"button counter"},[e._v("\n    "+e._s(e.recordingLength)+"\n  ")]),e._v(" "),e.dataUrl.length>0?a("audio-editor",{ref:"editor",staticClass:"editor",attrs:{dataUrl:e.dataUrl,source:e.source,isEditing:e.isEditing},on:{cut:e.updateData}}):e._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"header"},[a("div",{staticClass:"container"},[a("router-link",{attrs:{to:"/books"}},[a("img",{attrs:{src:"https://ellabib.se/images/ellabib.png"}})]),e._v(" "),a("router-link",{attrs:{to:"/books"}},[e._v("Böcker")]),e._v(" "),a("router-link",{directives:[{name:"show",rawName:"v-show",value:e.isDeviceWithWebRTC,expression:"isDeviceWithWebRTC"}],attrs:{to:"/scanner"}},[e._v("Scanner")]),e._v(" "),a("router-link",{attrs:{to:"/about"}},[e._v("Om")]),e._v(" "),a("div",{staticClass:"admin"},[a("router-link",{directives:[{name:"show",rawName:"v-show",value:e.isAdmin,expression:"isAdmin"}],attrs:{to:"/post-book"}},[e._v("Lägg till bok")]),e._v(" "),a("router-link",{directives:[{name:"show",rawName:"v-show",value:e.isAdmin,expression:"isAdmin"}],attrs:{to:"/activate-reviews"}},[e._v("Aktivera")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isAdmin,expression:"isAdmin"}],staticClass:"login",on:{click:e.logout}},[e._v("Logga ut\n      ")])],1)],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.playing?a("a",{staticClass:"button-2 pause",domProps:{innerHTML:e._s(e.unicodeIcons.pause)},on:{click:e.togglePlayback}}):a("a",{staticClass:"button-2 ",domProps:{innerHTML:e._s(e.unicodeIcons.play)},on:{click:e.togglePlayback}}),e._v(" "),a("a",{staticClass:"button-2 ",domProps:{innerHTML:e._s(e.unicodeIcons.reset)},on:{click:e.reset}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{ref:"scanner",staticClass:"scan-area"}),e._v(" "),e.isDeviceWithWebRTC?a("div",{staticClass:"scan button",on:{click:e.quaggaScanner}},[e._v("Scanna\n  ")]):e._e(),e._v(" "),e.isDeviceWithWebRTC?e._e():a("div",{staticClass:"browser"},[e._v("För att kunna scanna efter böcker måste du ha appen.\n  ")]),e._v(" "),e.scanned?e._e():a("div",{staticClass:"error"},[a("h2",[e._v("Tyvärr! Boken är inte inlagd i Ellabib.")])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.published?a("div",{staticClass:"wrapper"},[e._m(0)]):e._e(),e._v(" "),e.published?e._e():a("div",{staticClass:"wrapper"},[a("div",{staticClass:"book-description"},[a("div",[a("h1",[e._v("Beskrivning")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.review.description,expression:"review.description"}],staticClass:"publish-textarea",attrs:{placeholder:"Skriv vad boken handlar om här."},domProps:{value:e.review.description},on:{input:function(t){t.target.composing||(e.review.description=t.target.value)}}})]),e._v(" "),a("vue-record",{staticClass:"audio-recorder",attrs:{source:"description",blob:e.audio.description},on:{updateBlob:e.updateAudio}})],1),e._v(" "),a("div",{staticClass:"book-review"},[a("h1",[e._v("Recension")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.review.review,expression:"review.review"}],staticClass:"publish-textarea",attrs:{placeholder:"Skriv din bokrecension här."},domProps:{value:e.review.review},on:{input:function(t){t.target.composing||(e.review.review=t.target.value)}}}),e._v(" "),a("vue-record",{staticClass:"audio-recorder",attrs:{source:"review",blob:e.audio.review},on:{updateBlob:e.updateAudio}})],1),e._v(" "),a("div",{staticClass:"wrapper"},[a("div",{staticClass:"publish"},[a("star-rating",{attrs:{increment:1,"max-rating":5,"inactive-color":"#c2c7c9","active-color":"#c98bdb","star-size":30},model:{value:e.review.rating,callback:function(t){e.review.rating=t},expression:"review.rating"}}),e._v(" "),a("div",{staticClass:"publish-button",on:{click:e.postReview}},[e._v("Skicka")])],1)])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"book-description"},[a("h1",[e._v("Jippi! Din recension har nu skickats in!")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("modal",{attrs:{name:"edit-review-audio-modal",height:700},on:{"before-open":e.loadDataAudioModal}},[a("edit-review-audio",{attrs:{review:e.modalReview},on:{close:e.closeAudioModal}})],1),e._v(" "),e._l(e.reviews,function(t){return a("div",{staticClass:"reviews"},[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"image"},[t.books[0].localImage?a("img",{staticClass:"front-img",attrs:{src:""+e.imagesUrl+t.books[0].imageUrl}}):e._e(),e._v(" "),t.books[0].localImage?e._e():a("img",{staticClass:"front-img",attrs:{src:t.books[0].imageUrl}})]),e._v(" "),a("div",[a("div",{staticClass:"text-container"},[a("h1",[e._v(e._s(t.books[0].title))]),e._v(" "),a("div",{staticClass:"review-header flex-container"},[a("div",{staticClass:"review-title"},[a("span",[e._v("Publicerad den "+e._s(e.formattedDate(t.createdAt))+"  ")])]),e._v(" "),a("star-rating",{staticClass:"review-rating",attrs:{"read-only":!0,"max-rating":5,"inactive-color":"#c2c7c9","active-color":"#c98bdb","star-size":20},model:{value:t.rating,callback:function(e){t.rating=e},expression:"review.rating"}})],1),e._v(" "),a("div",{staticClass:"description-body"},[a("h2",[e._v("Beskrivning:")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"review.description"}],staticClass:"disabled-textarea",domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}},[e._v(e._s(t.description))]),e._v(" "),a("audio-player",{staticClass:"audio-player small",attrs:{sources:e.formattedAudioUrl(t.descriptionAudioUrl)}})],1)]),e._v(" "),a("div",{staticClass:"text-container"},[a("div",{staticClass:"review-body"},[a("h2",[e._v("Recension:")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.review,expression:"review.review"}],staticClass:"disabled-textarea",domProps:{value:t.review},on:{input:function(e){e.target.composing||(t.review=e.target.value)}}},[e._v(e._s(t.review))]),e._v(" "),a("audio-player",{staticClass:"audio-player small",attrs:{sources:e.formattedAudioUrl(t.reviewAudioUrl)}})],1)])])]),e._v(" "),a("div",{staticClass:"buttons"},[a("div",{staticClass:"button-2 edit",domProps:{innerHTML:e._s(e.unicodeIcons.edit)},on:{click:function(a){e.editAudioModal(t)}}}),e._v(" "),t.active?e._e():a("div",{staticClass:"button-2 accept",domProps:{innerHTML:e._s(e.unicodeIcons.empty)},on:{click:function(a){e.toggleAccepted(t)}}}),e._v(" "),t.active?a("div",{staticClass:"button-2 removeAccept",domProps:{innerHTML:e._s(e.unicodeIcons.accepted)},on:{click:function(a){e.toggleAccepted(t)}}}):e._e()]),e._v(" "),a("hr")])}),e._v(" "),e.reviews.length>0?a("div",{staticClass:"buttons"},[!e.selectedForActivation.length==e.reviews.length?a("a",{staticClass:"addAll-button",on:{click:e.addAllReviewsForActivation}},[e._v("Markera alla ("+e._s(e.reviews.length)+")\n    ")]):e._e(),e._v(" "),e.selectedForActivation.length==e.reviews.length?a("a",{staticClass:"addAll-button",on:{click:e.removeAllReviewsForActivation}},[e._v("Avmarkera alla ("+e._s(e.reviews.length)+")\n    ")]):e._e(),e._v(" "),a("a",{staticClass:"publish-button",on:{click:e.activateReviews}},[e._v("Spara ("+e._s(e.selectedForActivation.length)+")\n    ")])]):e._e(),e._v(" "),0==e.reviews.length?a("div",{staticClass:"no-reviews"},[a("h1",[e._v("\n      Inga recensioner väntar på att bli aktiverade\n    ")])]):e._e()],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"description flex-container"},[a("div",{staticClass:"image",on:{click:e.changeDescription}},[e.currentBook.localImage?a("img",{staticClass:"front-img",attrs:{src:""+e.imagesUrl+e.currentBook.imageUrl}}):e._e(),e._v(" "),e.currentBook.localImage?e._e():a("img",{staticClass:"front-img",attrs:{src:e.currentBook.imageUrl}})]),e._v(" "),a("div",{staticClass:"text"},[a("header",{staticClass:"book-header"},[a("h1",[e._v(e._s(e.currentBook.title))]),e._v(" "),a("p",{staticClass:"author"},[e._v("av: "+e._s(e.author.name)+" ")])]),e._v(" "),a("div",{staticClass:"description-body"},[0==e.reviews.length?a("p",{staticClass:"no-review"},[e._v("Ingen recension ännu. Har du läst den? Bli den första att recensera genom att trycka på stjärnan.")]):e._e(),e._v(" "),e.reviews.length>0?a("p",[e._v(e._s(e.randomDescription.description))]):e._e(),e._v(" "),a("div",{staticClass:"buttons flex-container"},[e.randomDescription.descriptionAudioUrl?a("audio-player",{staticClass:"audio-player",attrs:{sources:e.formattedAudioUrl(e.randomDescription.descriptionAudioUrl)}}):e._e(),e._v(" "),a("router-link",{attrs:{to:{name:"books",params:{genre:e.genre}}}},[a("img",{staticClass:"genre-icon",attrs:{src:""+e.imagesUrl+e.genre.slug+".png"}})]),e._v(" "),e.$store.getters.isAllowedToPublish?a("router-link",{staticClass:"review-a",attrs:{to:{name:"publish-review",params:{book:e.currentBook}}}},[a("div",{staticClass:"button review-button"},[e._v("★")])]):e._e()],1),e._v(" "),a("div",{staticClass:"book-information flex-container"},[a("div",{staticClass:"flex-left"},[e._v("Genre")]),e._v(" "),a("div",{staticClass:"flex-right"},[e._v(e._s(e.genre.name))]),e._v(" "),a("div",{staticClass:"flex-left"},[e._v("Sidor")]),e._v(" "),a("div",{staticClass:"flex-right"},[e._v(e._s(e.currentBook.pages))]),e._v(" "),a("div",{staticClass:"flex-left"},[e._v("Betyg")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("star-rating",{attrs:{"read-only":!0,"max-rating":5,"inactive-color":"#c2c7c9","active-color":"#c98bdb","star-size":20,rtl:!0,increment:.5},model:{value:e.currentBook.rating,callback:function(t){e.currentBook.rating=t},expression:"currentBook.rating"}})],1)])])])]),e._v(" "),e.reviews.length>0?a("div",{staticClass:"reviews"},[a("h2",[e._v("Recensioner")]),e._v(" "),e._l(e.reviews,function(t){return a("div",{staticClass:"review"},[a("header",{staticClass:"review-header flex-container"},[a("div",{staticClass:"review-text"},[a("span",[e._v("\n              Publicerad den "+e._s(e.formattedDate(t.createdAt))+"  \n            ")])]),e._v(" "),a("star-rating",{staticClass:"review-rating",attrs:{"read-only":!0,"max-rating":5,"inactive-color":"#c2c7c9","active-color":"#c98bdb","star-size":20},model:{value:t.rating,callback:function(e){t.rating=e},expression:"review.rating"}})],1),e._v(" "),a("div",{staticClass:"review-body"},[a("p",[e._v(e._s(t.review))]),e._v(" "),t.reviewAudioUrl?a("audio-player",{staticClass:"review-audio player",attrs:{sources:e.formattedAudioUrl(t.reviewAudioUrl)}}):e._e()],1),e._v(" "),a("hr")])})],2):e._e()])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("meta",{attrs:{name:"viewport",content:"width=device-width, initial-scale=1.0"}}),e._v(" "),a("nav-bar"),e._v(" "),a("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",[e._v("Här är framsidan")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"postbook-container"},[a("div",{staticClass:"genre-search"},e._l(e.genres,function(t){return a("div",{staticClass:"genre"},[a("img",{staticClass:"genre-icon",class:{selectedGenre:e.selectedGenre==t},attrs:{src:""+e.imagesUrl+t.slug+".png"},on:{click:function(a){e.toggleselectedGenre(t)}}})])})),e._v(" "),a("div",{staticClass:"menu"},[e.isCordovaApp?a("div",{staticClass:"button float",on:{click:e.barcodeScanner}},[e._v("Scanna\n    ")]):e._e(),e._v(" "),a("div",{staticClass:"button float",on:{click:e.toggleManualIsbn}},[e._v("Ange ISBN\n    ")]),e._v(" "),a("div",{staticClass:"button float",on:{click:e.toggleManualPost}},[e._v("Mata in...\n    ")])]),e._v(" "),e.manualIsbn?a("form",{staticClass:"manual isbn flex-container",on:{submit:function(t){t.preventDefault(),e.validateBeforeSubmitManualIsbn(t)}}},[a("div",{staticClass:"flex-left"},[e._v("\n        Genre\n      ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre.name,expression:"selectedGenre.name"}],class:{"has-error":e.errors.has("genre")},attrs:{placeholder:"Välj i listan ovan",disabled:""},domProps:{value:e.selectedGenre.name},on:{input:function(t){t.target.composing||(e.selectedGenre.name=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre.name,expression:"selectedGenre.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"genre",type:"hidden"},domProps:{value:e.selectedGenre.name},on:{input:function(t){t.target.composing||(e.selectedGenre.name=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"flex-left"},[e._v("\n        ISBN\n      ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isbn,expression:"isbn"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"has-error":e.errors.has("isbn")},attrs:{name:"isbn",placeholder:"ISBN"},domProps:{value:e.isbn},on:{input:function(t){t.target.composing||(e.isbn=t.target.value)}}})]),e._v(" "),e._m(0)]):e._e(),e._v(" "),e.manualPost?a("form",{staticClass:"manual post flex-container",on:{submit:function(t){t.preventDefault(),e.validateBeforeSubmitManualBook(t)}}},[a("div",{staticClass:"flex-left"},[e._v("\n      Genre\n    ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre.name,expression:"selectedGenre.name"}],class:{"has-error":e.errors.has("genre")},attrs:{placeholder:"Välj i listan ovan",disabled:""},domProps:{value:e.selectedGenre.name},on:{input:function(t){t.target.composing||(e.selectedGenre.name=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre.name,expression:"selectedGenre.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"genre",type:"hidden"},domProps:{value:e.selectedGenre.name},on:{input:function(t){t.target.composing||(e.selectedGenre.name=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"flex-left"},[e._v("\n      ISBN\n    ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isbn,expression:"isbn"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"has-error":e.errors.has("isbn")},attrs:{name:"isbn",placeholder:"ISBN"},domProps:{value:e.isbn},on:{input:function(t){t.target.composing||(e.isbn=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"flex-left"},[e._v("\n      Titel\n    ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.manualData.title,expression:"manualData.title"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"has-error":e.errors.has("title")},attrs:{name:"title",placeholder:"Titel"},domProps:{value:e.manualData.title},on:{input:function(t){t.target.composing||(e.manualData.title=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"flex-left"},[e._v("\n      Sidor\n    ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.manualData.pages,expression:"manualData.pages"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"has-error":e.errors.has("pages")},attrs:{name:"pages",placeholder:"Antal sidor"},domProps:{value:e.manualData.pages},on:{input:function(t){t.target.composing||(e.manualData.pages=t.target.value)}}})]),e._v(" "),e.authorSelect?a("div",{staticClass:"flex-left"},[e._v("\n      Författare\n      "),a("button",{staticClass:"plus",on:{click:e.addAuthorModal}},[e._v("Ny författare\n      ")])]):e._e(),e._v(" "),e.authorSelect?a("div",{staticClass:"flex-right"},[a("v-select",{staticClass:"select-style",attrs:{value:e.authorId,options:e.authors,label:"fullName"}})],1):e._e(),e._v(" "),a("modal",{attrs:{name:"add-author",height:250}},[a("div",{staticClass:"add-author flex-box"},[a("h3",[e._v("Ny författare")]),e._v(" "),a("div",{staticClass:"flex-container"},[a("div",{staticClass:"flex-left-modal"},[e._v("\n              Förnamn\n            ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newAuthor.firstname,expression:"newAuthor.firstname"}],attrs:{placeholder:"Förnamn"},domProps:{value:e.newAuthor.firstname},on:{input:function(t){t.target.composing||(e.newAuthor.firstname=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"flex-left-modal"},[e._v("\n              Efternamn\n            ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newAuthor.lastname,expression:"newAuthor.lastname"}],attrs:{placeholder:"Efternamn"},domProps:{value:e.newAuthor.lastname},on:{input:function(t){t.target.composing||(e.newAuthor.lastname=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"modal-menu"},[a("div",{staticClass:"button add",on:{click:e.saveAuthor}},[e._v("Spara\n              ")]),e._v(" "),a("div",{staticClass:"button float close",on:{click:e.leaveModal}},[e._v("Stäng\n              ")])])])])]),e._v(" "),e._m(1)],1):e._e(),e._v(" "),e.posted?a("div",{staticClass:"published-message"},[e._v("Bok tillagd.\n  ")]):e._e()])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-box"},[a("button",{staticClass:"button add",attrs:{type:"submit"}},[e._v("Lägg till\n        ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-box"},[a("button",{staticClass:"button add",attrs:{type:"submit"}},[e._v("Lägg till\n      ")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"review-header flex-container"}),e._v(" "),a("h2",[e._v("Beskrivning")]),e._v(" "),a("audio-editor",{staticClass:"editor",attrs:{dataUrl:e.formattedAudioUrl(e.local.audio.description,e.local.source.description),source:e.local.source.description,isEditing:!0},on:{cut:e.updateData}}),e._v(" "),a("h2",[e._v("Recension")]),e._v(" "),a("audio-editor",{staticClass:"editor",attrs:{dataUrl:e.formattedAudioUrl(e.local.audio.review,e.local.source.review),source:e.local.source.review,isEditing:!0},on:{cut:e.updateData}}),e._v(" "),a("div",{staticClass:"button float save-activate",on:{click:e.saveAndClose}},[e._v("Aktivera\n  ")]),e._v(" "),a("div",{staticClass:"button float close",on:{click:e.closeModal}},[e._v("Stäng\n  ")])],1)},staticRenderFns:[]}}],[195]);
//# sourceMappingURL=app.698c3cf7d8129bf3b0f8.js.map