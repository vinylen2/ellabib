webpackJsonp([1],[,,,,,,function(e,t,a){"use strict";var n=a(13);t.a={getAll:function(){return n.a.get("books/").then(function(e){return e.data})},get:function(e){return n.a.get("books/id/"+e).then(function(e){return e.data})},getFromSlug:function(e){return n.a.get("books/slug/"+e).then(function(e){return e.data})},getFromIsbn:function(e){return n.a.get("books/isbn/"+e).then(function(e){return e.data})},getRecentlyReviewed:function(){return n.a.get("books/recently/reviewed").then(function(e){return e.data})},getHighestRated:function(){return n.a.get("books/highest").then(function(e){return e.data})},publishBookFromIsbn:function(e,t){var a=e.replace(/\D/g,"");return n.a.post("books/publish/isbn",{isbn:a,genreId:t}).then(function(e){return e.data})},publishBookFromManualInput:function(e,t,a,i,s,r){return n.a.post("books/publish/manual",{isbn:e,genreId:t,title:a,pages:i,authorId:s,imageUrl:r}).then(function(e){return e.data})},search:function(e){return n.a.get("books/search?query="+e).then(function(e){return e.data})},searchFromGenre:function(e,t){return n.a.get("books/genre/"+e+"/search?query="+t).then(function(e){return e.data})},count:function(){return n.a.get("books/count").then(function(e){return e.data})},edit:function(e){return n.a.patch("books/edit",e).then(function(e){return e.data})}}},,,function(e,t,a){"use strict";t.a={images:"https://ellabib.se/images/",audio:"https://ellabib.se/audio/"}},,,,function(e,t,a){"use strict";var n=a(184),i=a.n(n);t.a=i.a.create({baseURL:"https://api.ellabib.se",withCredentials:!0})},function(e,t,a){"use strict";var n=a(13);t.a={getAll:function(e){return n.a.get("reviews/id/"+e).then(function(e){return e.data})},create:function(e){return n.a.post("reviews/",e).then(function(e){return e.data})},getInactive:function(){return n.a.get("reviews/inactive").then(function(e){return e.data})},bulkActivate:function(e){return n.a.patch("reviews/",e).then(function(e){return e.data})},editReviewAudio:function(e){return n.a.patch("reviews/audio/edit",e).then(function(e){return e.data})},incrementPlay:function(e){return n.a.patch("reviews/increment",e).then(function(e){return e.data})}}},,,,,,,,,,,function(e,t,a){"use strict";var n=a(3),i=a(351),s=a(23),r=a.n(s),o=a(350),c=a.n(o),l=a(291),u=a.n(l);n.default.use(i.a),t.a=new i.a.Store({state:{isAdmin:!1,isAllowedIp:!1,userAgent:{isMobile:null},cordova:{isApp:!1,isActive:!1},books:[],genres:[],highestRatedBooks:[],recentlyReviewedBooks:[],qrArray:[],count:{},isMobile:null},getters:{isAllowedToPublish:function(e){return!(!e.isAdmin&&!e.isAllowedIp)},isDeviceWithMic:function(){return navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,!!navigator.getUserMedia}},mutations:{count:function(e,t){e.count=t},isMobile:function(e){if(new u.a(window.navigator.userAgent).mobile())return void(e.userAgent.isMobile=!0);e.userAgent.isMobile=!1},changeAdminState:function(e){e.isAdmin=!e.isAdmin},isAllowedIp:function(e){e.isAllowedIp=!0},books:function(e,t){e.books=t},genres:function(e,t){e.genres=t},recentlyReviewedBooks:function(e,t){e.recentlyReviewedBooks=t},highestRatedBooks:function(e,t){e.highestRatedBooks=t},addQrArray:function(e,t){e.qrArray=t},toggleQr:function(e,t){var a=r.a.findIndex(e.qrArray,{id:t.id});-1===a?e.qrArray.push(t):e.qrArray.splice(a,1)},resetQr:function(e){e.qrArray=[]}},plugins:[c()({storage:window.sessionStorage})]})},,,,,,,,,,,,function(e,t,a){function n(e){a(283)}var i=a(1)(a(205),a(341),n,null,null);e.exports=i.exports},,,,,,,function(e,t,a){"use strict";var n=a(13);t.a={login:function(e){return n.a.post("auth/admin",e).then(function(e){return e.data})},ip:function(){return n.a.get("auth/").then(function(e){return e.data})},logout:function(){return n.a.get("auth/logout").then(function(e){return e.data})}}},function(e,t,a){"use strict";var n=a(13);t.a={getAll:function(){return n.a.get("authors/").then(function(e){return e.data})},create:function(e,t){return n.a.post("authors/",{firstname:e,lastname:t}).then(function(e){return e.data})},find:function(e){return n.a.post("authors/find",e).then(function(e){return e.data})}}},function(e,t,a){"use strict";var n=a(13);t.a={getAll:function(){return n.a.get("genres/").then(function(e){return e.data})},create:function(e){return n.a.post("genres/",e).then(function(e){return e.data})}}},,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){function n(e){a(263)}var i=a(1)(a(210),a(320),n,null,null);e.exports=i.exports},function(e,t,a){function n(e){a(272)}var i=a(1)(a(211),a(329),n,"data-v-43636d50",null);e.exports=i.exports},,,function(e,t,a){"use strict";var n=a(3),i=a(347),s=a(307),r=a.n(s),o=a(310),c=a.n(o),l=a(305),u=a.n(l),d=a(314),v=a.n(d),h=a(316),p=a.n(h),f=a(303),m=a.n(f),g=a(313),b=a.n(g),_=a(302),w=a.n(_),k=a(311),C=a.n(k),x=a(304),y=a.n(x),A=a(315),j=a.n(A),$=a(25),R=a(300),B=a.n(R),M=a(342),S=a.n(M);n.default.use(i.a),n.default.use(S.a);var I=new i.a({mode:"history",routes:[{path:"/",name:"frontpage",component:c.a},{path:"/books",name:"books",component:r.a},{path:"/book/:slug",name:"bok",component:u.a,props:!0},{path:"/book/:slug/review",name:"publish-review",component:v.a,props:!0},{path:"/scanner",name:"scanner",component:p.a},{path:"/about",name:"about",component:w.a},{path:"/login",name:"login",component:C.a},{path:"/admin",name:"admin",component:y.a,meta:{requiresAuth:!0},children:[{path:"activate-reviews",name:"activate-reviews",component:m.a,meta:{requiresAuth:!0}},{path:"post-book",name:"post-book",component:b.a,meta:{requiresAuth:!0}},{path:"qr-codes",name:"qr-codes",component:j.a,meta:{requiresAuth:!0}}]}]});I.beforeEach(function(e,t,a){e.meta.requiresAuth&&($.a.state.isAdmin?a():a({name:"login"})),a()}),n.default.use(B.a,{id:"UA-110562368-3",router:I,autoTracking:{pageviewTemplate:function(e){return{page:e.path,title:document.title,location:window.location.href}}}}),t.a=I},function(e,t,a){function n(e){a(279)}var i=a(1)(a(206),a(337),n,null,null);e.exports=i.exports},,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(){r.a.state.cordova.isActive=!0}function i(){document.addEventListener("deviceready",n,!1)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(3),r=a(25),o=a(181),c=a.n(o),l=a(180);if(s.default.config.productionTip=!1,"file:"===window.location.protocol||"3000"===window.location.port){var u=document.createElement("script");u.setAttribute("type","text/javascript"),u.setAttribute("src","cordova.js"),document.body.appendChild(u),r.a.state.cordova.isApp=!0}new s.default({store:r.a,el:"#app",router:l.a,template:"<App/>",components:{App:c.a},created:function(){i()}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"swiper-slide",data:function(){return{slideClass:"swiper-slide"}},ready:function(){this.update()},mounted:function(){this.update(),this.$parent.options.slideClass&&(this.slideClass=this.$parent.options.slideClass)},updated:function(){this.update()},attached:function(){this.update()},methods:{update:function(){this.$parent&&this.$parent.swiper&&this.$parent.swiper.update&&(this.$parent.swiper.update(!0),this.$parent.options.loop&&this.$parent.swiper.reLoop())}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof window;n&&(window.Swiper=a(174)),t.default={name:"swiper",props:{options:{type:Object,default:function(){return{autoplay:3500}}},notNextTick:{type:Boolean,default:function(){return!1}}},data:function(){return{defaultSwiperClasses:{wrapperClass:"swiper-wrapper"}}},ready:function(){!this.swiper&&n&&(this.swiper=new Swiper(this.$el,this.options))},mounted:function(){var e=this,t=function(){if(!e.swiper&&n){delete e.options.notNextTick;var t=!1;for(var a in e.defaultSwiperClasses)e.defaultSwiperClasses.hasOwnProperty(a)&&e.options[a]&&(t=!0,e.defaultSwiperClasses[a]=e.options[a]);var i=function(){e.swiper=new Swiper(e.$el,e.options)};t?e.$nextTick(i):i()}}(this.options.notNextTick||this.notNextTick)?t():this.$nextTick(t)},updated:function(){this.swiper&&this.swiper.update()},beforeDestroy:function(){this.swiper&&(this.swiper.destroy(),delete this.swiper)}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"SyncLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,height:this.size,width:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-syncStretchDelay",animationDuration:"0.6s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.07s"},spinnerDelay2:{animationDelay:"0.14s"},spinnerDelay3:{animationDelay:"0.21s"}}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(312),i=a.n(n),s=a(348),r=a.n(s);t.default={name:"app",directives:{sticky:r.a},components:{"nav-bar":i.a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"about",metaInfo:{title:"Om sidan"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),i=a(14),s=a(9),r=a(17),o=a.n(r),c=a(177),l=a.n(c),u=a(309),d=a.n(u),v=a(0),h=a.n(v),p=a(23),f=a.n(p),m=a(36),g=a.n(m),b=a(24);a.n(b);n.default.use(g.a),t.default={components:{AudioPlayer:l.a,StarRating:o.a,EditReviewAudio:d.a},data:function(){return{reviews:[],modalReview:"",modalText:"",imagesUrl:s.a.images,audioUrl:s.a.audio,selectedForActivation:[],unicodeIcons:{accepted:"&#10004;",empty:"&nbsp;",edit:"&#x2702"}}},created:function(){var e=this;this.$nextTick(function(){e.getReviews()})},methods:{removeAllReviewsForActivation:function(){this.selectedForActivation=[],this.reviews.forEach(function(e){e.active=!1})},addAllReviewsForActivation:function(){this.selectedForActivation=this.reviews,this.reviews.forEach(function(e){e.active=!0})},closeAudioModal:function(){this.popReview(1),this.$modal.hide("edit-review-audio-modal")},popReview:function(e){var t=f.a.remove(this.reviews,function(t){return t.id!==e});this.reviews=t},editAudioModal:function(e){this.$modal.show("edit-review-audio-modal",{review:e})},loadDataAudioModal:function(e){this.modalReview=e.params.review},toggleActivationArray:function(e){var t=f.a.findIndex(this.selectedForActivation,{id:e.id});-1===t?this.selectedForActivation.push(e):this.selectedForActivation.splice(t,1)},toggleAccepted:function(e){this.reviews.forEach(function(t){t.id===e.id&&(t.active=!t.active)}),this.toggleActivationArray(e)},formattedDate:function(e){return h()(e).format("Do MMMM")},formattedAudioUrl:function(e){return[this.audioUrl+e]},getReviews:function(){var e=this;i.a.getInactive().then(function(t){e.reviews=t.data})},activateReviews:function(){var e=this;i.a.bulkActivate({reviews:this.selectedForActivation}).then(function(){e.selectedForActivation="",e.getReviews()})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6);t.default={name:"admin",metaInfo:{title:"Adminpanelen"},methods:{addAllQr:function(){var e=this;n.a.getAll().then(function(t){e.$store.commit("addQrArray",t.data)})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(353),i=a.n(n),s=a(182),r=a.n(s),o=a(183),c=a.n(o),l=a(12),u=a.n(l),d=a(352),v=a.n(d);t.default={name:"audio-editor",components:{Icon:u.a},data:function(){return{wavesurfer:null,history:[],time:{selected:0,length:""},isPlaying:!1}},props:{dataUrl:"",source:"",isEditing:!1},computed:{roundedTime:function(){return this.time.selected.toFixed(1)},waveformId:function(){return"waveform-"+this.source}},watch:{dataUrl:function(){this.resetWavesurfer()}},created:function(){var e=this;this.$nextTick(function(){e.initiateWavesurfer()})},methods:{trashRecording:function(){this.$emit("trashRecording")},resetWavesurfer:function(){this.wavesurfer.destroy(),this.initiateWavesurfer()},cutBlob:function(){var e=this.wavesurfer.regions.list[1],t=e.start,a=e.end;this.newSlice(1e3*t,1e3*a),this.isEdited=!0},undoSlice:function(){this.audiobufferToWav(this.history.pop())},newSlice:function(e,t){var a=this;r()(this.wavesurfer.backend.buffer,e,t,function(e,t){a.history.push(a.wavesurfer.backend.buffer),a.audiobufferToWav(t)})},audiobufferToWav:function(e){var t=c()(e),a=new Blob([new DataView(t)],{type:"audio/wav"});this.$emit("cut",a,this.source)},initiateWavesurfer:function(){var e=this;this.wavesurfer=i.a.create({container:"#"+this.waveformId,waveColor:"violet",plugins:[v.a.create({enableDragSelection:!1})]}),this.wavesurfer.load(this.dataUrl),this.wavesurfer.on("ready",function(){var t=e.wavesurfer.getDuration();e.wavesurfer.addRegion({id:1,start:.05*t,end:.95*t,resize:!0,drag:!1,color:"rgba(0, 0, 0, 0.3)"})})},play:function(){var e=this;this.isEditing&&(this.wavesurfer.playPause(),this.isPlaying=!0,this.interval=setInterval(function(){var t=parseFloat(e.wavesurfer.getCurrentTime());e.$set(e.time,"selected",t)},100))},pause:function(){this.isEditing&&(this.wavesurfer.pause(),this.isPlaying=!1,clearInterval(this.interval))},setTime:function(){var e=this;this.$nextTick(function(){var t=parseFloat(e.wavesurfer.getCurrentTime());e.$set(e.time,"selected",t)})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(301),i=a.n(n),s=a(14),r=a(12),o=a.n(r);t.default={mixins:[i.a],components:{Icon:o.a},props:["audioInfo"],data:function(){return{played:!1,book:{title:this.audioInfo.book.title,id:this.audioInfo.book.id},type:this.audioInfo.type,audioId:this.audioInfo.id}},computed:{something:function(){return this.seek/this.duration},gaCategory:function(){return"review"===this.type?"Recension":"Beskrivning"}},watch:{something:function(){this.something>.3&&!this.played&&(this.gaPlay(),this.incrementCounter(),this.played=!0)}},methods:{gaPlay:function(){this.$ga.event({eventCategory:"Ljud",eventAction:this.book.title,eventLabel:this.gaCategory})},incrementCounter:function(){s.a.incrementPlay({reviewId:this.audioId,type:this.type})},reset:function(){this.setSeek(0),this.played=!1,this.play()}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),i=a(14),s=a(9),r=a(177),o=a.n(r),c=a(308),l=a.n(c),u=a(17),d=a.n(u),v=a(3),h=a(0),p=a.n(h),f=a(36),m=a.n(f),g=a(23),b=a.n(g),_=a(12),w=a.n(_),k=a(24);a.n(k);v.default.use(m.a),t.default={components:{"audio-player":o.a,EditBook:l.a,StarRating:d.a,Icon:w.a},data:function(){return{imagesUrl:s.a.images,audioUrl:s.a.audio,reviews:[],randomDescription:{},currentBook:{},author:{fullName:"",id:null},pausePlayer:{status:!1,id:null},genre:{name:"",slug:"",id:null}}},metaInfo:function(){return{title:this.currentBook.title}},created:function(){var e=this;this.$nextTick(function(){e.getBookFromSlug()})},methods:{inQr:function(e){return b.a.findIndex(this.$store.state.qrArray,{id:e})>-1},editBook:function(){this.$modal.show("edit-book")},leaveModal:function(e){e&&(this.currentBook.title=e.title,this.currentBook.pages=e.pages,this.author=e.author,this.genre=e.genre),this.$modal.hide("edit-book")},formattedAudioUrl:function(e){return[this.audioUrl+e]},formattedDate:function(e){return p()(e).format("Do MMMM")},randomizeNumber:function(e){return Math.floor(Math.random()*(e+1))},changeDescription:function(){var e=this.randomizeNumber(this.reviews.length-1);this.randomDescription=this.reviews[e],this.randomDescription.description.length<1&&this.changeDescription()},getBookFromSlug:function(){var e=this;n.a.getFromSlug(this.$route.params.slug).then(function(t){if(t.data.reviews.length>0){var a=t.data.reviews;e.reviews=a,e.changeDescription()}e.currentBook=t.data,e.genre=t.data.genres[0],t.data.authors.length>0&&(e.author.fullName=t.data.authors[0].firstname+" "+t.data.authors[0].lastname,e.author.id=t.data.authors[0].id)})},getReviews:function(e){var t=this;i.a.getAll(e).then(function(e){t.reviews=e.data})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),i=a(17),s=a.n(i),r=a(175),o=a.n(r),c=a(9);a(59),n.default.use(o.a),t.default={name:"book-list",props:["books","title"],components:{StarRating:s.a},data:function(){return{imagesUrl:c.a.images,swiperOptions:{nextButton:".swiper-button-next",prevButton:".swiper-button-prev",slidesPerView:5,spaceBetween:50,autoplay:4e3,breakpoints:{1400:{slidesPerView:4,spaceBetween:30},1e3:{slidesPerView:3,spaceBetween:30},750:{slidesPerView:2,spaceBetween:30},520:{slidesPerView:1,spaceBetween:30}}}}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),i=a(298),s=a(343),r=a.n(s),o=a(6),c=a(46),l=a(12),u=a.n(l),d=a(37),v=a.n(d),h=a(23),p=a.n(h),f=a(9);n.default.directive("tooltip",i.a),a(262),t.default={name:"books",metaInfo:{title:"Alla böcker"},components:{MugenScroll:r.a,Icon:u.a,SyncLoader:v.a},props:["genre","forceSearch"],data:function(){return{searchTerm:"",displaySearch:!1,selected:"",imagesUrl:f.a.images,busy:!1,image:"",genres:[],queryParams:{genre:[]},page:1,booksToDisplay:10,loading:!1}},computed:{paginatedBooks:function(){return this.$store.state.books.slice(0,this.page*this.booksToDisplay)},allBooksFetched:function(){return this.$store.state.books.length===this.paginatedBooks.length}},watch:{searchTerm:p.a.debounce(function(){this.searchBooks()},500)},created:function(){this.getGenres(),this.$route.params.genre?this.addGenreToQuery(this.$route.params.genre):this.$route.params.forceSearch?(this.displaySearch=!0,this.searchTerm=this.$route.params.forceSearch,this.searchBooks()):this.getBooks()},methods:{gaGenre:function(e){this.$ga.event({eventCategory:"Leta böcker",eventAction:"Genre",eventLabel:e.name})},gaSearch:function(){this.$ga.event({eventCategory:"Leta böcker",eventAction:"Sökning"})},incrementPage:function(){this.loading=!0,this.page+=1,this.loading=!1},toggleSearch:function(){this.displaySearch=!this.displaySearch,this.searchTerm=""},addGenreToQuery:function(e){this.queryParams.genre[0]===e.slug?(this.getBooks(),this.queryParams.genre.pop()):(this.queryParams.genre[0]=e.slug,this.searchBooks())},toggleSelected:function(e){this.selected===e?this.selected="":this.selected=e,this.addGenreToQuery(e)},searchBooks:function(){var e=this;this.queryParams.genre.length>0?o.a.searchFromGenre(this.queryParams.genre,this.searchTerm).then(function(t){e.$store.commit("books",t.data)}):(this.gaSearch(),o.a.search(this.searchTerm).then(function(t){e.$store.commit("books",t.data)}))},getBooks:function(){var e=this;o.a.getAll().then(function(t){e.$store.commit("books",t.data)})},getGenres:function(){var e=this;c.a.getAll().then(function(t){e.$store.commit("genres",t.data),e.$route.params.genre&&e.$store.state.genres.forEach(function(t){t.id===e.$route.params.genre.id&&(e.selected=t)})})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),i=a(45),s=a(179),r=a.n(s),o=a(37),c=a.n(o);t.default={name:"edit-book",components:{vSelect:r.a,SyncLoader:c.a},props:["bookId","author","genre","title","pages"],data:function(){return{loading:!1,authors:[],local:{author:this.author,genre:this.genre,title:this.title,pages:this.pages}}},created:function(){var e=this;this.getAuthors(),window.addEventListener("keyup",function(t){13===t.which&&e.editBook()})},methods:{leaveModal:function(){this.$emit("leaveModal",!1)},editBook:function(){var e=this;this.loading=!0,n.a.edit({bookId:this.bookId,authorId:this.local.author.id,genreId:this.local.genre.id,title:this.local.title,pages:this.local.pages}).then(function(){setTimeout(function(){e.$emit("leaveModal",{author:e.local.author,genre:e.local.genre,title:e.local.title,pages:e.local.pages})},200)})},getAuthors:function(){var e=this;i.a.getAll().then(function(t){e.authors=t.data})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(17),i=a.n(n),s=a(14),r=a(176),o=a.n(r),c=a(9),l=a(0),u=a.n(l);t.default={name:"edit-review-audio",components:{StarRating:i.a,"audio-editor":o.a},data:function(){return{reviewLocal:this.review,audioUrl:c.a.audio,local:{audio:{description:this.review.descriptionAudioUrl,review:this.review.reviewAudioUrl},blobs:{description:"",review:""},source:{description:"description",review:"review"},isCut:{description:!1,review:!1}}}},props:{review:""},computed:{reviewFormData:function(){var e=new FormData;return e.append("reviewId",this.reviewLocal.id),e.append("descriptionRecording",this.local.blobs.description,this.reviewLocal.books[0].slug),e.append("reviewRecording",this.local.blobs.review,this.reviewLocal.books[0].slug),e}},methods:{formattedAudioUrl:function(e,t){return this.local.isCut[t]?this.local.audio[t]:""+this.audioUrl+e},updateData:function(e,t){this.local.isCut[t]=!0;var a=URL.createObjectURL(e);this.local.audio[t]=a,this.local.blobs[t]=e},closeModal:function(){this.$emit("close")},formattedDate:function(e){return u()(e).format("Do MMMM")},saveAndClose:function(){this.editReview()},editReview:function(){var e=this;s.a.editReviewAudio(this.reviewFormData).then(function(){e.closeModal()})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),i=a(306),s=a.n(i),r=a(3),o=a(344),c=a.n(o),l=a(175),u=a.n(l);a(59),r.default.use(c.a),r.default.use(u.a),t.default={name:"frontpage",metaInfo:{title:"Startsida"},components:{BookList:s.a},created:function(){this.getRecentlyReviewed(),this.getHighestRated(),this.getCount()},data:function(){return{swiperOptions:{nextButton:".swiper-button-next",prevButton:".swiper-button-prev",slidesPerView:1,slidesPerGroup:1,centeredSlides:!0,autoplay:5e3}}},methods:{getCount:function(){var e=this;n.a.count().then(function(t){e.$store.commit("count",{books:t.data.books.count,reviews:t.data.reviews.count})})},getRecentlyReviewed:function(){var e=this;n.a.getRecentlyReviewed().then(function(t){e.$store.commit("recentlyReviewedBooks",t.data)})},getHighestRated:function(){var e=this;n.a.getHighestRated().then(function(t){e.$store.commit("highestRatedBooks",t.data)})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(44);t.default={name:"login",computed:{isAdmin:function(){return this.$store.state.isAdmin}},data:function(){return{username:"",password:"",loginFailed:!1}},created:function(){this.loginFailed=!1},methods:{login:function(){var e=this;n.a.login({username:this.username,password:this.password}).then(function(t){t.auth?e.changeAdminState():e.loginFailed=!0})},changeAdminState:function(){this.$store.commit("changeAdminState"),this.$router.push({name:"activate-reviews"})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(44),i=a(12),s=a.n(i);t.default={name:"navbar",components:{Icon:s.a},created:function(){this.ipAuth(),this.$store.commit("isMobile")},computed:{isAdmin:function(){return this.$store.state.isAdmin},isDeviceWithWebRTC:function(){return this.$store.getters.isDeviceWithWebRTC}},methods:{logout:function(){n.a.logout(),this.$router.push({name:"frontpage"}),this.$store.commit("changeAdminState")},ipAuth:function(){var e=this;n.a.ip().then(function(t){t.ipAuth&&e.$store.commit("isAllowedIp")})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),i=a(299),s=a(179),r=a.n(s),o=a(6),c=a(46),l=a(45),u=a(9),d=a(36),v=a.n(d);n.default.use(v.a),n.default.use(i.a),t.default={name:"post-book",components:{vSelect:r.a},computed:{isCordovaApp:function(){return this.$store.state.cordova.isApp},isCordovaActive:function(){return this.$store.state.cordova.active},isAdmin:function(){return this.$store.state.isAdmin},genreId:function(){return this.selectedGenre.id}},data:function(){return{selectedGenre:"",isbn:"",authorSelect:!0,authorId:"",newAuthor:{firstname:"",lastname:""},authors:[],manualData:{title:"",pages:""},manualIsbn:!1,manualPost:!1,posted:!1,imagesUrl:u.a.images,error:!1,errorMessage:""}},created:function(){var e=this;this.$nextTick(function(){0===e.$store.state.genres.length&&e.getGenres()})},methods:{validateBeforeSubmitManualBook:function(){var e=this;this.$validator.validateAll().then(function(t){t&&e.publishBookFromManualInput(e.isbn,e.genreId,e.manualData.title,e.manualData.pages,e.authorId,"nopicture.png")})},validateBeforeSubmitManualIsbn:function(){var e=this;this.$validator.validateAll().then(function(t){t&&e.publishBookFromIsbn(e.isbn,e.genreId)})},saveAuthor:function(){this.postAuthor(this.newAuthor.firstname,this.newAuthor.lastname)},addAuthorModal:function(){this.$modal.show("add-author")},leaveModal:function(){this.$modal.hide("add-author")},toggleManualPost:function(){this.getAuthors(),this.posted=!1,this.manualData.title="",this.manualData.pages="",this.isbn="",this.manualIsbn=!1,this.manualPost=!this.manualPost},toggleManualIsbn:function(){this.posted=!1,this.manualPost=!1,this.manualIsbn=!this.manualIsbn},toggleselectedGenre:function(e){this.selectedGenre===e?this.selectedGenre="":this.selectedGenre=e},bookPosted:function(e){this.posted=!0,this.selectedGenre="",this.manualData.title="",this.manualData.pages="",this.manualPost=!1,this.error=!1,this.isbn="",this.$validator.reset(),this.$store.commit("toggleQr",{title:e.data.title,slug:e.data.slug,id:e.data.id})},barcodeScanner:function(){var e=this;window.cordova.plugins.barcodeScanner.scan(function(t){e.isbn=t.text,e.publishBookFromIsbn(t.text,e.genreId).then(function(){e.bookPosted()})},function(){})},publishBookFromIsbn:function(e,t){var a=this;this.posted=!1,o.a.publishBookFromIsbn(e,t).then(function(e){e.added?a.bookPosted(e):(a.error=!0,a.errorMessage=e.message)})},publishBookFromManualInput:function(e,t,a,n,i,s){var r=this;o.a.publishBookFromManualInput(e,t,a,n,i,s).then(function(e){r.bookPosted(e)})},postAuthor:function(e,t){var a=this;l.a.create(e,t).then(function(e){a.authors.push(e.data),a.authorId=e.data.id,a.authorSelect=!0,a.$modal.hide("add-author")})},getGenres:function(){var e=this;c.a.getAll().then(function(t){e.$store.commit("genres",t.data)})},getAuthors:function(){var e=this;l.a.getAll().then(function(t){e.authors=t.data})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(225),i=a.n(n),s=a(6),r=a(14),o=a(17),c=a.n(o),l=a(317),u=a.n(l),d=a(37),v=a.n(d);t.default={name:"publish-review",components:{"vue-record":u.a,"star-rating":c.a,SyncLoader:v.a},props:["book"],data:function(){return{currentBook:{},review:{description:"",review:"",rating:0,reviewerId:null,bookId:null},audio:{description:"",review:""},publishing:!1,published:!1}},created:function(){this.getData()},computed:{reviewFormData:function(){var e=this,t=new FormData;return i()(this.review).forEach(function(a){t.append(a,e.review[a])}),t.append("descriptionRecording",this.audio.description,this.$route.params.slug),t.append("reviewRecording",this.audio.review,this.$route.params.slug),t}},methods:{updateAudio:function(e,t){this.audio[t]=e},getData:function(){this.book?(this.currentBook=this.book,this.review.bookId=this.book.id):this.getBookFromSlug()},getBookFromSlug:function(){var e=this;s.a.getFromSlug(this.$route.params.slug).then(function(t){e.currentBook=t.data,e.review.bookId=t.data.id})},postReview:function(){var e=this;this.publishing=!0,r.a.create(this.reviewFormData).then(function(){e.published=!0,e.publishing=!1})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),i=a(346),s=a.n(i);n.default.use(s.a),t.default={name:"qr-codes",created:function(){},computed:{books:function(){return this.$store.state.qrArray}},methods:{short:function(e){return e.slice(0,10)},resetQr:function(){this.$store.commit("resetQr")},print:function(){window.print()},toggleQr:function(e){this.$store.commit("toggleQr",e)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(226),i=a.n(n),s=a(6),r=a(295),o=a.n(r),c=a(345);t.default={name:"scanner",components:{"qrcode-reader":c.default},computed:{isDeviceWithWebRTC:function(){return this.$store.getters.isDeviceWithWebRTC}},data:function(){return{media:!1,scanned:!0}},methods:{quaggaScanner:function(){var e=this;o.a.init({inputStream:{name:"Live",type:"LiveStream",numOfWorkers:navigator.hardwareConcurrency,target:this.$refs.scanner,readers:["qr_code_reader"]}},function(t){o.a.start(),o.a.onDetected(function(t){e.getBookFromIsbn(t.codeResult.code).then(function(t){e.$router.push("/book/"+t)}).catch(function(){e.scanned=!1}),o.a.stop()})})},onDecode:function(e){var t=this;this.getBookFromIsbn(e).then(function(e){t.$router.push("/book/"+e)}).catch(function(){t.scanned=!1})},barcodeScanner:function(){var e=this;this.scanned=!0,window.cordova.plugins.barcodeScanner.scan(function(t){e.getBookFromIsbn(t.text).then(function(t){e.$router.push("/book/"+t)}).catch(function(){e.scanned=!1})},function(){})},getBookFromIsbn:function(e){return new i.a(function(t,a){s.a.getFromIsbn(e).then(function(e){t(e.data.slug)}).catch(function(e){a(e)})})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(296),i=a.n(n),s=(a(25),a(290)),r=a.n(s),o=a(176),c=a.n(o),l=a(12),u=a.n(l);t.default={components:{"audio-editor":c.a,Icon:u.a},props:{blob:"",source:"",options:{default:function(){return{type:"audio",mimeType:"video/webm",bufferSize:0,sampleRate:44100,leftChannel:!1,disableLogs:!1}}}},data:function(){return{localBlob:this.blob,dataUrl:"",maxLength:30,Timer:r()(),recordingLength:"",isRecording:!1,isEditing:!1,newRecording:0}},watch:{recordingLength:function(){this.recordingLength>this.maxLength&&this.stopRecording()}},methods:{trashRecording:function(){this.isEditing=!1,this.dataUrl="",this.$emit("updateBlob",null,this.source)},updateData:function(e){this.dataUrl=URL.createObjectURL(e),this.localBlob=e,this.$emit("updateBlob",e,this.source)},startTimer:function(){var e=this;this.Timer.start(),this.recordingLength=0,this.interval=window.setInterval(function(){var t=e.Timer.elapsedTime();e.recordingLength=(t/1e3).toFixed(1)},500)},stopTimer:function(e){this.updateData(e),window.clearInterval(this.interval),this.isEditing=!0},captureUserMedia:function(e,t,a){if(!!/BB10|BlackBerry/i.test(navigator.userAgent||"")&&(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mediaDevices.getUserMedia||navigator.mozGetUserMedia))return navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,void navigator.getUserMedia(e,t,a);navigator.mediaDevices.getUserMedia(e).then(t).catch(a)},_addStreamStopListener:function(e,t){var a="ended";"oninactive"in e&&(a="inactive"),this._stream.addEventListener(a,function(){t(),t=function(){}},!1),this._stream.getAudioTracks().forEach(function(e){e.addEventListener(a,function(){t(),t=function(){}},!1)})},startRecording:function(){var e=this;this.captureUserMedia({audio:!0},function(t){e.$emit("record:start"),e.isRecording=!0,e._stream=t,e._recordRTC=i()(t,e.options),e._recordRTC.startRecording(),e._addStreamStopListener(t,function(){e.isRecording=!1})},function(t){e.$emit("record:error"),e.isRecording=!1}),this.startTimer()},stopRecording:function(){var e=this;this._recordRTC.stopRecording(function(){e._stream.stop(),e.stopTimer(e._recordRTC.getBlob())})},deleteRecording:function(){this.isEditing=!1}},destroyed:function(){this.stopRecording()}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,function(e,t,a){function n(e){return a(i(e))}function i(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var s={"./af":60,"./af.js":60,"./ar":67,"./ar-dz":61,"./ar-dz.js":61,"./ar-kw":62,"./ar-kw.js":62,"./ar-ly":63,"./ar-ly.js":63,"./ar-ma":64,"./ar-ma.js":64,"./ar-sa":65,"./ar-sa.js":65,"./ar-tn":66,"./ar-tn.js":66,"./ar.js":67,"./az":68,"./az.js":68,"./be":69,"./be.js":69,"./bg":70,"./bg.js":70,"./bn":71,"./bn.js":71,"./bo":72,"./bo.js":72,"./br":73,"./br.js":73,"./bs":74,"./bs.js":74,"./ca":75,"./ca.js":75,"./cs":76,"./cs.js":76,"./cv":77,"./cv.js":77,"./cy":78,"./cy.js":78,"./da":79,"./da.js":79,"./de":82,"./de-at":80,"./de-at.js":80,"./de-ch":81,"./de-ch.js":81,"./de.js":82,"./dv":83,"./dv.js":83,"./el":84,"./el.js":84,"./en-au":85,"./en-au.js":85,"./en-ca":86,"./en-ca.js":86,"./en-gb":87,"./en-gb.js":87,"./en-ie":88,"./en-ie.js":88,"./en-nz":89,"./en-nz.js":89,"./eo":90,"./eo.js":90,"./es":92,"./es-do":91,"./es-do.js":91,"./es.js":92,"./et":93,"./et.js":93,"./eu":94,"./eu.js":94,"./fa":95,"./fa.js":95,"./fi":96,"./fi.js":96,"./fo":97,"./fo.js":97,"./fr":100,"./fr-ca":98,"./fr-ca.js":98,"./fr-ch":99,"./fr-ch.js":99,"./fr.js":100,"./fy":101,"./fy.js":101,"./gd":102,"./gd.js":102,"./gl":103,"./gl.js":103,"./gom-latn":104,"./gom-latn.js":104,"./he":105,"./he.js":105,"./hi":106,"./hi.js":106,"./hr":107,"./hr.js":107,"./hu":108,"./hu.js":108,"./hy-am":109,"./hy-am.js":109,"./id":110,"./id.js":110,"./is":111,"./is.js":111,"./it":112,"./it.js":112,"./ja":113,"./ja.js":113,"./jv":114,"./jv.js":114,"./ka":115,"./ka.js":115,"./kk":116,"./kk.js":116,"./km":117,"./km.js":117,"./kn":118,"./kn.js":118,"./ko":119,"./ko.js":119,"./ky":120,"./ky.js":120,"./lb":121,"./lb.js":121,"./lo":122,"./lo.js":122,"./lt":123,"./lt.js":123,"./lv":124,"./lv.js":124,"./me":125,"./me.js":125,"./mi":126,"./mi.js":126,"./mk":127,"./mk.js":127,"./ml":128,"./ml.js":128,"./mr":129,"./mr.js":129,"./ms":131,"./ms-my":130,"./ms-my.js":130,"./ms.js":131,"./my":132,"./my.js":132,"./nb":133,"./nb.js":133,"./ne":134,"./ne.js":134,"./nl":136,"./nl-be":135,"./nl-be.js":135,"./nl.js":136,"./nn":137,"./nn.js":137,"./pa-in":138,"./pa-in.js":138,"./pl":139,"./pl.js":139,"./pt":141,"./pt-br":140,"./pt-br.js":140,"./pt.js":141,"./ro":142,"./ro.js":142,"./ru":143,"./ru.js":143,"./sd":144,"./sd.js":144,"./se":145,"./se.js":145,"./si":146,"./si.js":146,"./sk":147,"./sk.js":147,"./sl":148,"./sl.js":148,"./sq":149,"./sq.js":149,"./sr":151,"./sr-cyrl":150,"./sr-cyrl.js":150,"./sr.js":151,"./ss":152,"./ss.js":152,"./sv":24,"./sv.js":24,"./sw":153,"./sw.js":153,"./ta":154,"./ta.js":154,"./te":155,"./te.js":155,"./tet":156,"./tet.js":156,"./th":157,"./th.js":157,"./tl-ph":158,"./tl-ph.js":158,"./tlh":159,"./tlh.js":159,"./tr":160,"./tr.js":160,"./tzl":161,"./tzl.js":161,"./tzm":163,"./tzm-latn":162,"./tzm-latn.js":162,"./tzm.js":163,"./uk":164,"./uk.js":164,"./ur":165,"./ur.js":165,"./uz":167,"./uz-latn":166,"./uz-latn.js":166,"./uz.js":167,"./vi":168,"./vi.js":168,"./x-pseudo":169,"./x-pseudo.js":169,"./yo":170,"./yo.js":170,"./zh-cn":171,"./zh-cn.js":171,"./zh-hk":172,"./zh-hk.js":172,"./zh-tw":173,"./zh-tw.js":173};n.keys=function(){return Object.keys(s)},n.resolve=i,e.exports=n,n.id=292},,,,,,,,,,function(e,t,a){function n(e){a(267)}var i=a(1)(a(207),a(324),n,"data-v-2339da4e",null);e.exports=i.exports},function(e,t,a){function n(e){a(276)}var i=a(1)(a(208),a(333),n,"data-v-64ea81a9",null);e.exports=i.exports},function(e,t,a){function n(e){a(278)}var i=a(1)(a(209),a(336),n,"data-v-74610910",null);e.exports=i.exports},function(e,t,a){function n(e){a(277)}var i=a(1)(a(212),a(335),n,"data-v-7323cc58",null);e.exports=i.exports},function(e,t,a){function n(e){a(264)}var i=a(1)(a(213),a(321),n,"data-v-06a28af6",null);e.exports=i.exports},function(e,t,a){function n(e){a(268),a(269)}var i=a(1)(a(214),a(325),n,"data-v-2661fa2a",null);e.exports=i.exports},function(e,t,a){function n(e){a(275)}var i=a(1)(a(215),a(332),n,"data-v-5bda79e2",null);e.exports=i.exports},function(e,t,a){function n(e){a(282)}var i=a(1)(a(216),a(340),n,"data-v-d7eab216",null);e.exports=i.exports},function(e,t,a){function n(e){a(280)}var i=a(1)(a(217),a(338),n,"data-v-9be61e0e",null);e.exports=i.exports},function(e,t,a){function n(e){a(265)}var i=a(1)(a(218),a(322),n,"data-v-0c99582a",null);e.exports=i.exports},function(e,t,a){function n(e){a(271)}var i=a(1)(a(219),a(327),n,"data-v-3689edc2",null);e.exports=i.exports},function(e,t,a){function n(e){a(281)}var i=a(1)(a(220),a(339),n,"data-v-bda2a310",null);e.exports=i.exports},function(e,t,a){function n(e){a(274)}var i=a(1)(a(221),a(331),n,"data-v-574a6bf0",null);e.exports=i.exports},function(e,t,a){function n(e){a(266)}var i=a(1)(a(222),a(323),n,"data-v-199d99f4",null);e.exports=i.exports},function(e,t,a){function n(e){a(273)}var i=a(1)(a(223),a(330),n,"data-v-547df402",null);e.exports=i.exports},function(e,t,a){function n(e){a(270)}var i=a(1)(a(224),a(326),n,"data-v-29379ab8",null);e.exports=i.exports},function(e,t,a){var n=a(1)(a(203),a(334),null,null,null);e.exports=n.exports},function(e,t,a){var n=a(1)(a(204),a(328),null,null,null);e.exports=n.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"editor"},[a("div",{staticClass:"menu"},[e.isPlaying?e._e():a("button",{staticClass:"button",on:{click:e.play}},[a("icon",{attrs:{name:"play",scale:"2"}})],1),e._v(" "),e.isPlaying?a("button",{staticClass:"button",on:{click:e.pause}},[a("icon",{attrs:{name:"pause",scale:"2"}})],1):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isEditing,expression:"isEditing"}],staticClass:"time"},[e._v("\n      "+e._s(e.roundedTime)+"\n    ")]),e._v(" "),a("button",{staticClass:"button",on:{click:e.cutBlob}},[a("icon",{attrs:{name:"scissors",scale:"2"}})],1),e._v(" "),e.history.length>0?a("button",{staticClass:"button",on:{click:e.undoSlice}},[a("icon",{attrs:{name:"undo",scale:"2"}})],1):e._e(),e._v(" "),a("button",{staticClass:"button",on:{click:e.trashRecording}},[a("icon",{attrs:{name:"trash-o",scale:"2"}})],1)]),e._v(" "),a("div",{staticClass:"waveform",attrs:{id:e.waveformId},on:{click:e.setTime}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v(e._s(e.title))]),e._v(" "),a("swiper",{ref:"swiper",attrs:{options:e.swiperOptions}},[e._l(e.books,function(t){return a("swiper-slide",{key:t.id},[a("router-link",{staticClass:"link",attrs:{to:{name:"bok",params:{slug:t.slug}}}},[a("div",{staticClass:"wrap"},[a("star-rating",{staticClass:"book-rating",attrs:{"read-only":!0,"max-rating":5,inline:!0,"show-rating":!1,"inactive-color":"#c2c7c9","active-color":"#c98bdb","star-size":20},model:{value:t.rating,callback:function(e){t.rating=e},expression:"book.rating"}})],1),e._v(" "),t.localImage?a("img",{staticClass:"front-img",attrs:{src:""+e.imagesUrl+t.imageUrl}}):e._e(),e._v(" "),t.localImage?e._e():a("img",{staticClass:"front-img",attrs:{src:t.imageUrl}})])],1)}),e._v(" "),e.$store.state.userAgent.isMobile?e._e():a("div",{staticClass:"swiper-button-prev swiper-button-black",slot:"button-prev"}),e._v(" "),e.$store.state.userAgent.isMobile?e._e():a("div",{staticClass:"swiper-button-next swiper-button-black",slot:"button-next"})],2)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-author flex-box"},[a("h3",[e._v("Logga in")]),e._v(" "),a("div",{staticClass:"flex-container"},[a("div",{staticClass:"flex-left-modal"},[e._v("\n        Användarnamn\n      ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{autofocus:"",placeholder:"Användarnamn"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"flex-left-modal"},[e._v("\n        Lösenord\n      ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Lösenord"},domProps:{value:e.password},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.login(t)},input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"modal-menu"},[e.loginFailed?a("div",{staticClass:"error"},[e._v("\n          Fel användarnamn eller lösenord.\n        ")]):e._e(),e._v(" "),a("button",{staticClass:"button",on:{click:e.login}},[e._v("Logga in\n        ")])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"menu"},[a("button",{staticClass:"publish-button red",on:{click:e.resetQr}},[e._v("Rensa")]),e._v(" "),a("button",{staticClass:"publish-button",on:{click:e.print}},[e._v("Skriv ut")])]),e._v(" "),a("div",{staticClass:"qr-container"},e._l(e.books,function(t){return a("div",{staticClass:"code",on:{click:function(a){e.toggleQr(t)}}},[a("p",[e._v(e._s(e.short(t.title)))]),e._v(" "),a("qriously",{attrs:{value:"https://ellabib.se/book/"+t.slug,size:100}})],1)}))])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",[e._v("Ellabib")]),e._v(" "),a("div",{staticClass:"text"},[a("p",[e._v("Ellabib är en hemsida för Ellagårdsskolans bibliotek. Här hittar ni bokrecensioner skrivna och upplästa av våra elever.")]),e._v(" "),a("h2",[e._v("Källor")]),e._v(" "),a("p",[e._v("Informationen om böckerna kommer från "),a("a",{attrs:{href:"https://bokhavet.se/api"}},[e._v("Bokhavets API")]),e._v(".")])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[0==e.$store.state.genres.length?a("div",{staticClass:"loading"},[a("sync-loader",{attrs:{color:"#71c5e8"}})],1):a("div",{staticClass:"genre-search"},[e._l(e.$store.state.genres,function(t){return a("a",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.name,expression:"genre.name",modifiers:{bottom:!0}}],staticClass:"genre tooltip"},[a("img",{staticClass:"genre-icon",class:{selected:e.selected==t},attrs:{src:""+e.imagesUrl+t.slug+".png"},on:{click:function(a){e.toggleSelected(t),e.gaGenre(t)}}})])}),e._v(" "),a("a",{staticClass:"genre button",on:{click:e.toggleSearch}},[a("icon",{attrs:{name:"search",scale:"2"}})],1)],2),e._v(" "),a("transition",{attrs:{name:"fadeLeft"}},[e.displaySearch?a("div",{staticClass:"searchbar"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],staticClass:"searchform",attrs:{type:"text",placeholder:"Sök efter titel/författare..."},domProps:{value:e.searchTerm},on:{input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}})]):e._e()]),e._v(" "),a("div",{staticClass:"wrapper flex-container"},e._l(e.paginatedBooks,function(t){return a("div",{staticClass:"book"},[a("router-link",{staticClass:"link",attrs:{to:{name:"bok",params:{slug:t.slug}}}},[t.localImage?a("img",{staticClass:"front-img",attrs:{src:""+e.imagesUrl+t.imageUrl}}):e._e(),e._v(" "),t.localImage?e._e():a("img",{staticClass:"front-img",attrs:{src:t.imageUrl}}),e._v(" "),a("h3",[e._v(e._s(t.title))])])],1)})),e._v(" "),e.allBooksFetched?e._e():a("mugen-scroll",{attrs:{handler:e.incrementPage,"should-handle":!e.loading}},[a("sync-loader",{attrs:{color:"#71c5e8"}})],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEditing,expression:"!isEditing"}]},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.isRecording,expression:"isRecording"}],staticClass:"button stop",on:{click:e.stopRecording}},[a("icon",{attrs:{name:"stop",scale:"2"}})],1),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.isRecording,expression:"!isRecording"}],staticClass:"button record",on:{click:e.startRecording}},[a("icon",{attrs:{name:"microphone",scale:"2"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isRecording,expression:"isRecording"}],staticClass:"counter"},[e._v("\n      "+e._s(e.recordingLength)+"\n    ")])]),e._v(" "),e.dataUrl.length>0?a("audio-editor",{ref:"editor",staticClass:"editor",attrs:{dataUrl:e.dataUrl,source:e.source,isEditing:e.isEditing},on:{cut:e.updateData,trashRecording:e.trashRecording}}):e._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("router-link",{attrs:{to:"/"}},[a("img",{attrs:{src:"https://ellabib.se/images/ellabib.png"}})]),e._v(" "),a("router-link",{attrs:{to:"/books"}},[e._v("Böcker")]),e._v(" "),a("router-link",{directives:[{name:"show",rawName:"v-show",value:e.isDeviceWithWebRTC,expression:"isDeviceWithWebRTC"}],attrs:{to:"/scanner"}},[e._v("Scanner")]),e._v(" "),a("router-link",{attrs:{to:"/about"}},[e._v("Om")]),e._v(" "),a("div",{staticClass:"admin"},[a("router-link",{directives:[{name:"show",rawName:"v-show",value:e.isAdmin,expression:"isAdmin"}],attrs:{to:"/admin"}},[a("icon",{attrs:{name:"cog",scale:"2",color:"#2c3e50"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isAdmin,expression:"isAdmin"}],staticClass:"login",on:{click:e.logout}},[a("icon",{attrs:{name:"sign-out",scale:"2",color:"#2c3e50"}})],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"swiper-container"},[e._t("parallax-bg"),e._v(" "),a("div",{class:e.defaultSwiperClasses.wrapperClass},[e._t("default")],2),e._v(" "),e._t("pagination"),e._v(" "),e._t("button-prev"),e._v(" "),e._t("button-next"),e._v(" "),e._t("scrollbar")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.playing?a("button",{staticClass:"button pause",on:{click:e.togglePlayback}},[a("icon",{attrs:{name:"pause",scale:"2"}})],1):a("button",{staticClass:"button",on:{click:function(t){e.togglePlayback()}}},[a("icon",{attrs:{name:"play",scale:"2"}})],1),e._v(" "),a("button",{staticClass:"button",on:{click:function(t){e.reset()}}},[a("icon",{attrs:{name:"fast-backward",scale:"2"}})],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{ref:"scanner",staticClass:"scan-area"}),e._v(" "),a("qrcode-reader",{on:{decode:e.onDecode}}),e._v(" "),e.isDeviceWithWebRTC?e._e():a("div",{staticClass:"browser"},[e._v("För att kunna scanna efter böcker måste du ha appen.\n  ")]),e._v(" "),e.scanned?e._e():a("div",{staticClass:"error"},[a("h2",[e._v("Tyvärr! Boken är inte inlagd i Ellabib.")])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.published?a("div",{staticClass:"wrapper"},[e._m(0)]):e._e(),e._v(" "),e.published?e._e():a("div",{staticClass:"wrapper"},[a("div",{staticClass:"book-description"},[a("div",[a("h1",[e._v("Beskrivning")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.review.description,expression:"review.description"}],staticClass:"publish-textarea review",attrs:{placeholder:"Skriv vad boken handlar om här."},domProps:{value:e.review.description},on:{input:function(t){t.target.composing||(e.review.description=t.target.value)}}})]),e._v(" "),e.$store.getters.isDeviceWithMic?a("vue-record",{staticClass:"audio-recorder",attrs:{source:"description",blob:e.audio.description},on:{updateBlob:e.updateAudio}}):e._e()],1),e._v(" "),a("div",{staticClass:"book-review"},[a("h1",[e._v("Recension")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.review.review,expression:"review.review"}],staticClass:"publish-textarea description",attrs:{placeholder:"Skriv din bokrecension här."},domProps:{value:e.review.review},on:{input:function(t){t.target.composing||(e.review.review=t.target.value)}}}),e._v(" "),e.$store.getters.isDeviceWithMic?a("vue-record",{staticClass:"audio-recorder",attrs:{source:"review",blob:e.audio.review},on:{updateBlob:e.updateAudio}}):e._e()],1),e._v(" "),a("div",{staticClass:"publish flex-container column"},[a("star-rating",{attrs:{increment:1,"max-rating":5,"inactive-color":"#c2c7c9","active-color":"#c98bdb","star-size":30,"show-rating":!1},model:{value:e.review.rating,callback:function(t){e.review.rating=t},expression:"review.rating"}}),e._v(" "),e.publishing?e._e():a("button",{staticClass:"publish-button",on:{click:e.postReview}},[e._v("Skicka\n      ")]),e._v(" "),e.publishing?a("div",{staticClass:"loading"},[a("h2",[e._v("Publicerar...")]),e._v(" "),a("sync-loader",{attrs:{color:"#71c5e8"}})],1):e._e()],1)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"book-description"},[a("h1",[e._v("Jippi! Din recension har nu skickats in!")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper",on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.editBook(t)}}},[a("h3",[e._v("Redigera bok")]),e._v(" "),a("form",{staticClass:"manual post flex-container",attrs:{id:"edit-book"}},[a("div",{staticClass:"flex-left"},[e._v("\n      Titel\n    ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.local.title,expression:"local.title"}],class:{"has-error":e.errors.has("title")},attrs:{name:"title",placeholder:"Titel"},domProps:{value:e.local.title},on:{input:function(t){t.target.composing||(e.local.title=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"flex-left"},[e._v("\n      Sidor\n    ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.local.pages,expression:"local.pages"}],class:{"has-error":e.errors.has("isbn")},attrs:{name:"pages",placeholder:"Antal sidor"},domProps:{value:e.local.pages},on:{input:function(t){t.target.composing||(e.local.pages=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"flex-left"},[e._v("\n      Genre\n    ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("v-select",{staticClass:"select-style",attrs:{"max-height":"150px",transition:"none",value:e.genre,options:e.$store.state.genres,label:"name"},model:{value:e.local.genre,callback:function(t){e.local.genre=t},expression:"local.genre"}})],1),e._v(" "),a("div",{staticClass:"flex-left"},[e._v("\n      Författare\n    ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("v-select",{staticClass:"select-style",attrs:{"max-height":"100px",transition:"none",value:e.author,options:e.authors,label:"fullName"},model:{value:e.local.author,callback:function(t){e.local.author=t},expression:"local.author"}})],1)]),e._v(" "),e.loading?a("div",{staticClass:"menu"},[a("sync-loader",{staticClass:"sync-loader",attrs:{color:"#71c5e8"}})],1):a("div",{staticClass:"menu"},[a("button",{staticClass:"button float add",on:{click:e.editBook}},[e._v("Spara\n    ")]),e._v(" "),a("button",{staticClass:"button float close",on:{click:e.leaveModal}},[e._v("Stäng\n    ")])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("modal",{attrs:{name:"edit-review-audio-modal",height:700},on:{"before-open":e.loadDataAudioModal}},[a("edit-review-audio",{attrs:{review:e.modalReview},on:{close:e.closeAudioModal}})],1),e._v(" "),e._l(e.reviews,function(t){return a("div",{staticClass:"reviews"},[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"image"},[t.books[0].localImage?a("img",{staticClass:"front-img",attrs:{src:""+e.imagesUrl+t.books[0].imageUrl}}):e._e(),e._v(" "),t.books[0].localImage?e._e():a("img",{staticClass:"front-img",attrs:{src:t.books[0].imageUrl}})]),e._v(" "),a("div",[a("div",{staticClass:"text-container"},[a("h1",[e._v(e._s(t.books[0].title))]),e._v(" "),a("div",{staticClass:"review-header flex-container"},[a("div",{staticClass:"review-title"},[a("span",[e._v("Publicerad den "+e._s(e.formattedDate(t.createdAt))+"  ")])]),e._v(" "),a("star-rating",{staticClass:"review-rating",attrs:{"read-only":!0,"max-rating":5,"inactive-color":"#c2c7c9","active-color":"#c98bdb","star-size":20},model:{value:t.rating,callback:function(e){t.rating=e},expression:"review.rating"}})],1),e._v(" "),a("div",{staticClass:"description-body"},[a("h2",[e._v("Beskrivning:")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"review.description"}],staticClass:"disabled-textarea",domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}},[e._v(e._s(t.description))]),e._v(" "),a("audio-player",{staticClass:"audio-player small",attrs:{sources:e.formattedAudioUrl(t.descriptionAudioUrl)}})],1)]),e._v(" "),a("div",{staticClass:"text-container"},[a("div",{staticClass:"review-body"},[a("h2",[e._v("Recension:")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.review,expression:"review.review"}],staticClass:"disabled-textarea",domProps:{value:t.review},on:{input:function(e){e.target.composing||(t.review=e.target.value)}}},[e._v(e._s(t.review))]),e._v(" "),a("audio-player",{staticClass:"audio-player small",attrs:{sources:e.formattedAudioUrl(t.reviewAudioUrl)}})],1)])])]),e._v(" "),a("div",{staticClass:"buttons"},[a("div",{staticClass:"button-2 edit",domProps:{innerHTML:e._s(e.unicodeIcons.edit)},on:{click:function(a){e.editAudioModal(t)}}}),e._v(" "),t.active?e._e():a("div",{staticClass:"button-2 accept",domProps:{innerHTML:e._s(e.unicodeIcons.empty)},on:{click:function(a){e.toggleAccepted(t)}}}),e._v(" "),t.active?a("div",{staticClass:"button-2 removeAccept",domProps:{innerHTML:e._s(e.unicodeIcons.accepted)},on:{click:function(a){e.toggleAccepted(t)}}}):e._e()]),e._v(" "),a("hr")])}),e._v(" "),e.reviews.length>0?a("div",{staticClass:"buttons"},[e.selectedForActivation.length==e.reviews.length?a("a",{staticClass:"addAll-button",on:{click:e.removeAllReviewsForActivation}},[e._v("Avmarkera alla ("+e._s(e.reviews.length)+")\n    ")]):a("a",{staticClass:"addAll-button",on:{click:e.addAllReviewsForActivation}},[e._v("Markera alla ("+e._s(e.reviews.length)+")\n    ")]),e._v(" "),a("a",{staticClass:"publish-button",on:{click:e.activateReviews}},[e._v("Spara ("+e._s(e.selectedForActivation.length)+")\n    ")])]):e._e(),e._v(" "),0==e.reviews.length?a("div",{staticClass:"no-reviews"},[a("h1",[e._v("\n      Inga recensioner väntar på att bli aktiverade\n    ")])]):e._e()],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.slideClass},[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.$store.state.isAdmin?a("div",{staticClass:"admin-nav"},[a("a",{staticClass:"admin-anchor",on:{click:e.editBook}},[e._v("Ändra bokinfo\n      ")]),e._v(" "),a("modal",{attrs:{name:"edit-book",height:350}},[a("edit-book",{attrs:{bookId:e.currentBook.id,author:e.author,genre:e.genre,title:e.currentBook.title,pages:e.currentBook.pages},on:{leaveModal:e.leaveModal}})],1),e._v(" "),a("a",{staticClass:"admin-anchor",on:{click:function(t){e.$store.commit("toggleQr",{title:e.currentBook.title,slug:e.currentBook.slug,id:e.currentBook.id})}}},[e.inQr(e.currentBook.id)?a("p",[e._v("-QR")]):a("p",[e._v("+QR")])])],1):e._e(),e._v(" "),a("div",{staticClass:"wrapper"},[a("div",{staticClass:"description flex-container"},[a("div",{staticClass:"image",on:{click:e.changeDescription}},[e.currentBook.localImage?a("img",{staticClass:"front-img",attrs:{src:""+e.imagesUrl+e.currentBook.imageUrl}}):e._e(),e._v(" "),e.currentBook.localImage?e._e():a("img",{staticClass:"front-img",attrs:{src:e.currentBook.imageUrl}})]),e._v(" "),a("div",{staticClass:"text"},[a("header",{staticClass:"book-header"},[a("h1",[e._v(e._s(e.currentBook.title))]),e._v(" "),a("p",{staticClass:"author"},[e._v("av:\n             "),a("router-link",{staticClass:"authorlink",attrs:{to:{name:"books",params:{forceSearch:e.author.fullName}}}},[e._v("\n              "+e._s(e.author.fullName)+"\n             ")])],1)]),e._v(" "),a("div",{staticClass:"description-body"},[0==e.reviews.length&&e.$store.getters.isAllowedToPublish?a("p",{staticClass:"no-review"},[e._v("Bli den första att recensera boken genom att trycka på stjärnan!")]):e._e(),e._v(" "),0!=e.reviews.length||e.$store.getters.isAllowedToPublish?e._e():a("p",{staticClass:"no-review"},[e._v("Det finns ingen recension för boken.")]),e._v(" "),e.reviews.length>0?a("p",[e._v(e._s(e.randomDescription.description))]):e._e(),e._v(" "),a("div",{staticClass:"buttons flex-container"},[e.randomDescription.descriptionAudioUrl?a("audio-player",{staticClass:"audio-player btn",attrs:{sources:e.formattedAudioUrl(e.randomDescription.descriptionAudioUrl),audioInfo:{book:{title:e.currentBook.title,id:e.currentBook.id},type:"description",id:e.randomDescription.id}}}):e._e(),e._v(" "),a("router-link",{staticClass:"btn",attrs:{to:{name:"books",params:{genre:e.genre}}}},[a("img",{staticClass:"genre-icon",attrs:{src:""+e.imagesUrl+e.genre.slug+".png"}})]),e._v(" "),e.$store.getters.isAllowedToPublish?a("router-link",{staticClass:"review-a btn",attrs:{to:{name:"publish-review",params:{book:e.currentBook}}}},[a("div",{staticClass:"button review-button"},[e._v("★")])]):e._e()],1),e._v(" "),a("div",{staticClass:"book-information flex-container"},[a("div",{staticClass:"flex-left"},[e._v("Genre")]),e._v(" "),a("div",{staticClass:"flex-right"},[e._v(e._s(e.genre.name))]),e._v(" "),a("div",{staticClass:"flex-left"},[e._v("Sidor")]),e._v(" "),a("div",{staticClass:"flex-right"},[e._v(e._s(e.currentBook.pages))]),e._v(" "),a("div",{staticClass:"flex-left"},[e._v("Betyg")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("star-rating",{attrs:{"read-only":!0,"max-rating":5,"inactive-color":"#c2c7c9","active-color":"#c98bdb","star-size":20,rtl:!0,increment:.5},model:{value:e.currentBook.rating,callback:function(t){e.currentBook.rating=t},expression:"currentBook.rating"}})],1)])])])]),e._v(" "),e.reviews.length>0?a("div",{staticClass:"reviews"},[a("h2",[e._v("Recensioner")]),e._v(" "),e._l(e.reviews,function(t){return t.review.length>0?a("div",{staticClass:"review"},[a("header",{staticClass:"review-header flex-container"},[a("div",{staticClass:"review-text"},[a("span",[e._v("\n              Publicerad den "+e._s(e.formattedDate(t.createdAt))+"  \n            ")])]),e._v(" "),a("star-rating",{staticClass:"review-rating",attrs:{"read-only":!0,"max-rating":5,"inactive-color":"#c2c7c9","active-color":"#c98bdb","star-size":20},model:{value:t.rating,callback:function(e){t.rating=e},expression:"review.rating"}})],1),e._v(" "),a("div",{staticClass:"review-body"},[a("p",[e._v(e._s(t.review))]),e._v(" "),t.reviewAudioUrl?a("audio-player",{staticClass:"review-audio player",attrs:{sources:e.formattedAudioUrl(t.reviewAudioUrl),audioInfo:{book:{title:e.currentBook.title,id:e.currentBook.id},type:"review",id:e.randomDescription.id}}}):e._e()],1),e._v(" "),e.reviews.length>0?a("hr"):e._e()]):e._e()})],2):e._e()])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"admin-nav"},[a("router-link",{attrs:{to:"/admin/post-book"}},[e._v("Lägg till bok")]),e._v(" "),a("router-link",{attrs:{to:"/admin/activate-reviews"}},[e._v("Aktivera")]),e._v(" "),a("router-link",{attrs:{to:"/admin/qr-codes"}},[e._v("QR ("+e._s(e.$store.state.qrArray.length)+")")]),e._v(" "),a("a",{on:{click:e.addAllQr}},[e._v("\n      QR för alla böcker\n    ")])],1),e._v(" "),a("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("meta",{attrs:{name:"viewport",content:"width=device-width, initial-scale=1.0"}}),e._v(" "),a("nav",{directives:[{name:"sticky",rawName:"v-sticky",value:{zIndex:21},expression:"{ zIndex: 21 }"}]},[a("nav-bar")],1),e._v(" "),a("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("swiper",{ref:"swiper",staticClass:"header-swiper",attrs:{options:e.swiperOptions}},[a("swiper-slide",[a("div",{staticClass:"header"},[a("router-link",{attrs:{to:"/books"}},[0!=e.$store.state.count.books?a("div",{staticClass:"header-text"},[a("span",{staticClass:"one"},[e._v("\n              "+e._s(e.$store.state.count.books)+"\n            ")]),e._v(" "),a("span",[e._v("böcker")])]):e._e()])],1)]),e._v(" "),a("swiper-slide",[a("div",{staticClass:"header"},[a("router-link",{attrs:{to:"/books"}},[0!=e.$store.state.count.books?a("div",{staticClass:"header-text"},[a("span",{staticClass:"one"},[e._v("\n              "+e._s(e.$store.state.count.reviews)+"\n            ")]),e._v(" "),a("span",[e._v("recensioner")])]):e._e()])],1)]),e._v(" "),e.$store.state.userAgent.isMobile?e._e():a("div",{staticClass:"swiper-button-prev swiper-button-black",slot:"button-prev"}),e._v(" "),e.$store.state.userAgent.isMobile?e._e():a("div",{staticClass:"swiper-button-next swiper-button-black",slot:"button-next"})],1),e._v(" "),a("div",{staticClass:"flex-container"},[a("book-list",{staticClass:"list",attrs:{title:"Topplistan",books:e.$store.state.highestRatedBooks}}),e._v(" "),a("book-list",{staticClass:"list",attrs:{title:"Nyligen recenserade",books:e.$store.state.recentlyReviewedBooks}})],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"postbook-container"},[a("div",{staticClass:"genre-search"},e._l(e.$store.state.genres,function(t){return a("div",{staticClass:"genre"},[a("img",{staticClass:"genre-icon",class:{selectedGenre:e.selectedGenre==t},attrs:{src:""+e.imagesUrl+t.slug+".png"},on:{click:function(a){e.toggleselectedGenre(t)}}})])})),e._v(" "),a("div",{staticClass:"menu"},[e.isCordovaApp?a("div",{staticClass:"button float",on:{click:e.barcodeScanner}},[e._v("Scanna\n    ")]):e._e(),e._v(" "),a("div",{staticClass:"button float",on:{click:e.toggleManualIsbn}},[e._v("Ange ISBN\n    ")]),e._v(" "),a("div",{staticClass:"button float",on:{click:e.toggleManualPost}},[e._v("Mata in...\n    ")])]),e._v(" "),e.manualIsbn?a("form",{staticClass:"manual isbn flex-container",on:{submit:function(t){t.preventDefault(),e.validateBeforeSubmitManualIsbn(t)}}},[a("div",{staticClass:"flex-left"},[e._v("\n        Genre\n      ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre.name,expression:"selectedGenre.name"}],class:{"has-error":e.errors.has("genre")},attrs:{placeholder:"Välj i listan ovan",disabled:""},domProps:{value:e.selectedGenre.name},on:{input:function(t){t.target.composing||(e.selectedGenre.name=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre.name,expression:"selectedGenre.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"genre",type:"hidden"},domProps:{value:e.selectedGenre.name},on:{input:function(t){t.target.composing||(e.selectedGenre.name=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"flex-left"},[e._v("\n        ISBN\n      ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isbn,expression:"isbn"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"has-error":e.errors.has("isbn")},attrs:{name:"isbn",placeholder:"ISBN"},domProps:{value:e.isbn},on:{input:function(t){t.target.composing||(e.isbn=t.target.value)}}})]),e._v(" "),e._m(0)]):e._e(),e._v(" "),e.manualPost?a("form",{staticClass:"manual post flex-container",on:{submit:function(t){t.preventDefault(),e.validateBeforeSubmitManualBook(t)}}},[a("div",{staticClass:"flex-left"},[e._v("\n      Genre\n    ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre.name,expression:"selectedGenre.name"}],class:{"has-error":e.errors.has("genre")},attrs:{placeholder:"Välj i listan ovan",disabled:""},domProps:{value:e.selectedGenre.name},on:{input:function(t){t.target.composing||(e.selectedGenre.name=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre.name,expression:"selectedGenre.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"genre",type:"hidden"},domProps:{value:e.selectedGenre.name},on:{input:function(t){t.target.composing||(e.selectedGenre.name=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"flex-left"},[e._v("\n      ISBN\n    ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isbn,expression:"isbn"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"has-error":e.errors.has("isbn")},attrs:{name:"isbn",placeholder:"ISBN"},domProps:{value:e.isbn},on:{input:function(t){t.target.composing||(e.isbn=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"flex-left"},[e._v("\n      Titel\n    ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.manualData.title,expression:"manualData.title"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"has-error":e.errors.has("title")},attrs:{name:"title",placeholder:"Titel"},domProps:{value:e.manualData.title},on:{input:function(t){t.target.composing||(e.manualData.title=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"flex-left"},[e._v("\n      Sidor\n    ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.manualData.pages,expression:"manualData.pages"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"has-error":e.errors.has("pages")},attrs:{name:"pages",placeholder:"Antal sidor"},domProps:{value:e.manualData.pages},on:{input:function(t){t.target.composing||(e.manualData.pages=t.target.value)}}})]),e._v(" "),e.authorSelect?a("div",{staticClass:"flex-left"},[e._v("\n      Författare\n      "),a("button",{staticClass:"plus",on:{click:e.addAuthorModal}},[e._v("Ny författare\n      ")])]):e._e(),e._v(" "),e.authorSelect?a("div",{staticClass:"flex-right"},[a("v-select",{staticClass:"select-style",attrs:{value:e.authorId,options:e.authors,label:"fullName"}})],1):e._e(),e._v(" "),a("modal",{attrs:{name:"add-author",height:250}},[a("div",{staticClass:"add-author flex-box"},[a("h3",[e._v("Ny författare")]),e._v(" "),a("div",{staticClass:"flex-container"},[a("div",{staticClass:"flex-left-modal"},[e._v("\n              Förnamn\n            ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newAuthor.firstname,expression:"newAuthor.firstname"}],attrs:{placeholder:"Förnamn"},domProps:{value:e.newAuthor.firstname},on:{input:function(t){t.target.composing||(e.newAuthor.firstname=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"flex-left-modal"},[e._v("\n              Efternamn\n            ")]),e._v(" "),a("div",{staticClass:"flex-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newAuthor.lastname,expression:"newAuthor.lastname"}],attrs:{placeholder:"Efternamn"},domProps:{value:e.newAuthor.lastname},on:{input:function(t){t.target.composing||(e.newAuthor.lastname=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"modal-menu"},[a("div",{staticClass:"button add",on:{click:e.saveAuthor}},[e._v("Spara\n              ")]),e._v(" "),a("div",{staticClass:"button float close",on:{click:e.leaveModal}},[e._v("Stäng\n              ")])])])])]),e._v(" "),e._m(1)],1):e._e(),e._v(" "),e.posted?a("div",{staticClass:"published-message"},[e._v("Bok tillagd.\n  ")]):e._e(),e._v(" "),e.error?a("div",{staticClass:"published-message"},[e._v(e._s(e.errorMessage)+"\n  ")]):e._e()])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-box"},[a("button",{staticClass:"button add",attrs:{type:"submit"}},[e._v("Lägg till\n        ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-box"},[a("button",{staticClass:"button add",attrs:{type:"submit"}},[e._v("Lägg till\n      ")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"review-header flex-container"}),e._v(" "),a("h2",[e._v("Beskrivning")]),e._v(" "),a("audio-editor",{staticClass:"editor",attrs:{dataUrl:e.formattedAudioUrl(e.local.audio.description,e.local.source.description),source:e.local.source.description,isEditing:!0},on:{cut:e.updateData}}),e._v(" "),a("h2",[e._v("Recension")]),e._v(" "),a("audio-editor",{staticClass:"editor",attrs:{dataUrl:e.formattedAudioUrl(e.local.audio.review,e.local.source.review),source:e.local.source.review,isEditing:!0},on:{cut:e.updateData}}),e._v(" "),a("div",{staticClass:"button float save-activate",on:{click:e.saveAndClose}},[e._v("Aktivera\n  ")]),e._v(" "),a("div",{staticClass:"button float close",on:{click:e.closeModal}},[e._v("Stäng\n  ")])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"v-spinner"},[a("div",{staticClass:"v-sync v-sync1",style:[e.spinnerStyle,e.spinnerDelay1]}),a("div",{staticClass:"v-sync v-sync2",style:[e.spinnerStyle,e.spinnerDelay2]}),a("div",{staticClass:"v-sync v-sync3",style:[e.spinnerStyle,e.spinnerDelay3]})])},staticRenderFns:[]}}],[202]);
//# sourceMappingURL=app.41ffd88594f193f3ffa7.js.map