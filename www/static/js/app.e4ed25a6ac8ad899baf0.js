webpackJsonp([1],[,,,,,,,function(e,t,n){"use strict";var i=n(12);t.a={getAll:function(){return i.a.get("books/").then(function(e){return e.data})},get:function(e){return i.a.get("books/id/"+e).then(function(e){return e.data})},getFromSlug:function(e){return i.a.get("books/slug/"+e).then(function(e){return e.data})},getFromIsbn:function(e){return i.a.get("books/isbn/"+e).then(function(e){return e.data})},getRecentlyReviewed:function(){return i.a.get("books/recently/reviewed").then(function(e){return e.data})},getHighestRated:function(){return i.a.get("books/highest").then(function(e){return e.data})},publishBookFromIsbn:function(e,t){var n=e.replace(/\D/g,"");return i.a.post("books/publish/isbn",{isbn:n,genreId:t}).then(function(e){return e.data})},publishBookFromManualInput:function(e,t,n,a,s,r){return i.a.post("books/publish/manual",{isbn:e,genreId:t,title:n,pages:a,authorId:s,imageUrl:r}).then(function(e){return e.data})},search:function(e){return i.a.get("books/search?query="+e).then(function(e){return e.data})},searchFromGenre:function(e,t){return i.a.get("books/genre/"+e+"/search?query="+t).then(function(e){return e.data})},count:function(){return i.a.get("books/count").then(function(e){return e.data})}}},,,,,function(e,t,n){"use strict";var i=n(182),a=n.n(i);t.a=a.a.create({baseURL:"https://api.ellabib.se",withCredentials:!0})},function(e,t,n){"use strict";var i=n(12);t.a={getAll:function(e){return i.a.get("reviews/id/"+e).then(function(e){return e.data})},create:function(e){return i.a.post("reviews/",e).then(function(e){return e.data})},getInactive:function(){return i.a.get("reviews/inactive").then(function(e){return e.data})},bulkActivate:function(e){return i.a.patch("reviews/",e).then(function(e){return e.data})},editReviewAudio:function(e){return i.a.patch("reviews/audio/edit",e).then(function(e){return e.data})},incrementPlay:function(e){return i.a.patch("reviews/increment",e).then(function(e){return e.data})}}},function(e,t,n){"use strict";t.a={images:"https://ellabib.se/images/",audio:"https://ellabib.se/audio/"}},,,,,,,,,,,function(e,t,n){"use strict";var i=n(4),a=n(347),s=n(23),r=n.n(s),o=n(346),c=n.n(o),l=n(288),u=n.n(l);i.default.use(a.a),t.a=new a.a.Store({state:{isAdmin:!1,isAllowedIp:!1,userAgent:{isMobile:null},cordova:{isApp:!1,isActive:!1},books:[],genres:[],highestRatedBooks:[],recentlyReviewedBooks:[],qrArray:[],count:{},isMobile:null},getters:{isAllowedToPublish:function(e){return!(!e.isAdmin&&!e.isAllowedIp)},isDeviceWithMic:function(){return navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,!!navigator.getUserMedia}},mutations:{count:function(e,t){e.count=t},isMobile:function(e){if(new u.a(window.navigator.userAgent).mobile())return void(e.userAgent.isMobile=!0);e.userAgent.isMobile=!1},changeAdminState:function(e){e.isAdmin=!e.isAdmin},isAllowedIp:function(e){e.isAllowedIp=!0},books:function(e,t){e.books=t},genres:function(e,t){e.genres=t},recentlyReviewedBooks:function(e,t){e.recentlyReviewedBooks=t},highestRatedBooks:function(e,t){e.highestRatedBooks=t},addQrArray:function(e,t){e.qrArray=r.a.flatten([t,t])},toggleQr:function(e,t){var n=r.a.findIndex(e.qrArray,{id:t.id});-1===n?e.qrArray.push(t):e.qrArray.splice(n,1)},resetQr:function(e){e.qrArray=[]}},plugins:[c()({storage:window.sessionStorage})]})},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(12);t.a={login:function(e){return i.a.post("auth/admin",e).then(function(e){return e.data})},ip:function(){return i.a.get("auth/").then(function(e){return e.data})},logout:function(){return i.a.get("auth/logout").then(function(e){return e.data})}}},function(e,t,n){"use strict";var i=n(12);t.a={getAll:function(){return i.a.get("genres/").then(function(e){return e.data})},create:function(e){return i.a.post("genres/",e).then(function(e){return e.data})}}},,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function i(e){n(261)}var a=n(1)(n(209),n(316),i,null,null);e.exports=a.exports},function(e,t,n){function i(e){n(270)}var a=n(1)(n(210),n(325),i,"data-v-43636d50",null);e.exports=a.exports},function(e,t,n){function i(e){n(280)}var a=n(1)(n(204),n(336),i,null,null);e.exports=a.exports},,function(e,t,n){"use strict";var i=n(4),a=n(342),s=n(304),r=n.n(s),o=n(306),c=n.n(o),l=n(302),u=n.n(l),d=n(310),v=n.n(d),h=n(312),p=n.n(h),f=n(300),m=n.n(f),g=n(309),b=n.n(g),_=n(299),w=n.n(_),k=n(307),C=n.n(k),y=n(301),x=n.n(y),A=n(311),j=n.n(A),R=n(25),$=n(297),B=n.n($),S=n(337),I=n.n(S);i.default.use(a.a),i.default.use(I.a);var M=new a.a({mode:"history",routes:[{path:"/",name:"frontpage",component:c.a},{path:"/books",name:"books",component:r.a},{path:"/book/:slug",name:"bok",component:u.a,props:!0},{path:"/book/:slug/review",name:"publish-review",component:v.a,props:!0},{path:"/scanner",name:"scanner",component:p.a},{path:"/about",name:"about",component:w.a},{path:"/login",name:"login",component:C.a},{path:"/admin",name:"admin",component:x.a,meta:{requiresAuth:!0},children:[{path:"activate-reviews",name:"activate-reviews",component:m.a,meta:{requiresAuth:!0}},{path:"post-book",name:"post-book",component:b.a,meta:{requiresAuth:!0}},{path:"qr-codes",name:"qr-codes",component:j.a,meta:{requiresAuth:!0}}]}]});M.beforeEach(function(e,t,n){e.meta.requiresAuth&&(R.a.state.isAdmin?n():n({name:"login"})),n()}),i.default.use(B.a,{id:"UA-110562368-2",router:M,autoTracking:{pageviewTemplate:function(e){return{page:e.path,title:document.title,location:window.location.href}}}}),t.a=M},function(e,t,n){function i(e){n(276)}var a=n(1)(n(205),n(332),i,null,null);e.exports=a.exports},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(12);t.a={getAll:function(){return i.a.get("authors/").then(function(e){return e.data})},create:function(e,t){return i.a.post("authors/",{firstname:e,lastname:t}).then(function(e){return e.data})},find:function(e){return i.a.post("authors/find",e).then(function(e){return e.data})}}},function(e,t,n){"use strict";function i(){r.a.state.cordova.isActive=!0}function a(){document.addEventListener("deviceready",i,!1)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),r=n(25),o=n(179),c=n.n(o),l=n(178);if(s.default.config.productionTip=!1,"file:"===window.location.protocol||"3000"===window.location.port){var u=document.createElement("script");u.setAttribute("type","text/javascript"),u.setAttribute("src","cordova.js"),document.body.appendChild(u),r.a.state.cordova.isApp=!0}new s.default({store:r.a,el:"#app",router:l.a,template:"<App/>",components:{App:c.a},created:function(){a()}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"swiper-slide",data:function(){return{slideClass:"swiper-slide"}},ready:function(){this.update()},mounted:function(){this.update(),this.$parent.options.slideClass&&(this.slideClass=this.$parent.options.slideClass)},updated:function(){this.update()},attached:function(){this.update()},methods:{update:function(){this.$parent&&this.$parent.swiper&&this.$parent.swiper.update&&(this.$parent.swiper.update(!0),this.$parent.options.loop&&this.$parent.swiper.reLoop())}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"!=typeof window;i&&(window.Swiper=n(171)),t.default={name:"swiper",props:{options:{type:Object,default:function(){return{autoplay:3500}}},notNextTick:{type:Boolean,default:function(){return!1}}},data:function(){return{defaultSwiperClasses:{wrapperClass:"swiper-wrapper"}}},ready:function(){!this.swiper&&i&&(this.swiper=new Swiper(this.$el,this.options))},mounted:function(){var e=this,t=function(){if(!e.swiper&&i){delete e.options.notNextTick;var t=!1;for(var n in e.defaultSwiperClasses)e.defaultSwiperClasses.hasOwnProperty(n)&&e.options[n]&&(t=!0,e.defaultSwiperClasses[n]=e.options[n]);var a=function(){e.swiper=new Swiper(e.$el,e.options)};t?e.$nextTick(a):a()}}(this.options.notNextTick||this.notNextTick)?t():this.$nextTick(t)},updated:function(){this.swiper&&this.swiper.update()},beforeDestroy:function(){this.swiper&&(this.swiper.destroy(),delete this.swiper)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"SyncLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,height:this.size,width:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-syncStretchDelay",animationDuration:"0.6s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.07s"},spinnerDelay2:{animationDelay:"0.14s"},spinnerDelay3:{animationDelay:"0.21s"}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(308),a=n.n(i),s=n(344),r=n.n(s);t.default={name:"app",directives:{sticky:r.a},components:{"nav-bar":a.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"about",metaInfo:{title:"Om sidan"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(13),s=n(14),r=n(17),o=n.n(r),c=n(175),l=n.n(c),u=n(305),d=n.n(u),v=n(0),h=n.n(v),p=n(23),f=n.n(p),m=n(173),g=n.n(m),b=n(24);n.n(b);i.default.use(g.a),t.default={components:{AudioPlayer:l.a,StarRating:o.a,EditReviewAudio:d.a},data:function(){return{reviews:[],modalReview:"",modalText:"",imagesUrl:s.a.images,audioUrl:s.a.audio,selectedForActivation:[],unicodeIcons:{accepted:"&#10004;",empty:"&nbsp;",edit:"&#x2702"}}},created:function(){var e=this;this.$nextTick(function(){e.getReviews()})},methods:{removeAllReviewsForActivation:function(){this.selectedForActivation=[],this.reviews.forEach(function(e){e.active=!1})},addAllReviewsForActivation:function(){this.selectedForActivation=this.reviews,this.reviews.forEach(function(e){e.active=!0})},closeAudioModal:function(){this.popReview(1),this.$modal.hide("edit-review-audio-modal")},popReview:function(e){var t=f.a.remove(this.reviews,function(t){return t.id!==e});this.reviews=t},editAudioModal:function(e){this.$modal.show("edit-review-audio-modal",{review:e})},loadDataAudioModal:function(e){this.modalReview=e.params.review},toggleActivationArray:function(e){var t=f.a.findIndex(this.selectedForActivation,{id:e.id});-1===t?this.selectedForActivation.push(e):this.selectedForActivation.splice(t,1)},toggleAccepted:function(e){this.reviews.forEach(function(t){t.id===e.id&&(t.active=!t.active)}),this.toggleActivationArray(e)},formattedDate:function(e){return h()(e).format("Do MMMM")},formattedAudioUrl:function(e){return[this.audioUrl+e]},getReviews:function(){var e=this;a.a.getInactive().then(function(t){e.reviews=t.data})},activateReviews:function(){var e=this;a.a.bulkActivate({reviews:this.selectedForActivation}).then(function(){e.selectedForActivation="",e.getReviews()})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(7);t.default={name:"admin",metaInfo:{title:"Adminpanelen"},methods:{addAllQr:function(){var e=this;i.a.getAll().then(function(t){e.$store.commit("addQrArray",t.data)})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(349),a=n.n(i),s=n(180),r=n.n(s),o=n(181),c=n.n(o),l=n(11),u=n.n(l),d=n(348),v=n.n(d);t.default={name:"audio-editor",components:{Icon:u.a},data:function(){return{wavesurfer:null,history:[],time:{selected:0,length:""},isPlaying:!1}},props:{dataUrl:"",source:"",isEditing:!1},computed:{roundedTime:function(){return this.time.selected.toFixed(1)},waveformId:function(){return"waveform-"+this.source}},watch:{dataUrl:function(){this.resetWavesurfer()}},created:function(){var e=this;this.$nextTick(function(){e.initiateWavesurfer()})},methods:{trashRecording:function(){this.$emit("trashRecording")},resetWavesurfer:function(){this.wavesurfer.destroy(),this.initiateWavesurfer()},cutBlob:function(){var e=this.wavesurfer.regions.list[1],t=e.start,n=e.end;this.newSlice(1e3*t,1e3*n),this.isEdited=!0},undoSlice:function(){this.audiobufferToWav(this.history.pop())},newSlice:function(e,t){var n=this;r()(this.wavesurfer.backend.buffer,e,t,function(e,t){n.history.push(n.wavesurfer.backend.buffer),n.audiobufferToWav(t)})},audiobufferToWav:function(e){var t=c()(e),n=new Blob([new DataView(t)],{type:"audio/wav"});this.$emit("cut",n,this.source)},initiateWavesurfer:function(){var e=this;this.wavesurfer=a.a.create({container:"#"+this.waveformId,waveColor:"violet",plugins:[v.a.create({enableDragSelection:!1})]}),this.wavesurfer.load(this.dataUrl),this.wavesurfer.on("ready",function(){var t=e.wavesurfer.getDuration();e.wavesurfer.addRegion({id:1,start:.05*t,end:.95*t,resize:!0,drag:!1,color:"rgba(0, 0, 0, 0.3)"})})},play:function(){var e=this;this.isEditing&&(this.wavesurfer.playPause(),this.isPlaying=!0,this.interval=setInterval(function(){var t=parseFloat(e.wavesurfer.getCurrentTime());e.$set(e.time,"selected",t)},100))},pause:function(){this.isEditing&&(this.wavesurfer.pause(),this.isPlaying=!1,clearInterval(this.interval))},setTime:function(){var e=this;this.$nextTick(function(){var t=parseFloat(e.wavesurfer.getCurrentTime());e.$set(e.time,"selected",t)})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(298),a=n.n(i),s=n(13),r=n(11),o=n.n(r);t.default={mixins:[a.a],components:{Icon:o.a},props:["audioInfo"],data:function(){return{played:!1,book:{title:this.audioInfo.book.title,id:this.audioInfo.book.id},type:this.audioInfo.type,audioId:this.audioInfo.id}},computed:{something:function(){return this.seek/this.duration},gaCategory:function(){return"review"===this.type?"Recension":"Beskrivning"}},watch:{something:function(){this.something>.3&&!this.played&&(this.gaPlay(),this.played=!0)}},methods:{gaPlay:function(){this.$ga.event({eventCategory:"Ljud",eventAction:this.book.title,eventLabel:this.gaCategory})},incrementCounter:function(){s.a.incrementPlay({reviewId:this.audioId,type:this.type})},reset:function(){this.setSeek(0),this.played=!1,this.play()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),a=n(13),s=n(14),r=n(175),o=n.n(r),c=n(17),l=n.n(c),u=n(0),d=n.n(u),v=n(23),h=n.n(v),p=n(11),f=n.n(p),m=n(24);n.n(m);t.default={components:{"audio-player":o.a,StarRating:l.a,Icon:f.a},data:function(){return{imagesUrl:s.a.images,audioUrl:s.a.audio,reviews:[],randomDescription:{},currentBook:{},author:{name:"",id:null},pausePlayer:{status:!1,id:null},genre:{name:"",slug:"",id:null}}},metaInfo:function(){return{title:this.currentBook.title}},created:function(){var e=this;this.$nextTick(function(){e.getBookFromSlug()})},methods:{inQr:function(e){return h.a.findIndex(this.$store.state.qrArray,{id:e})>-1},editBook:function(){},formattedAudioUrl:function(e){return[this.audioUrl+e]},formattedDate:function(e){return d()(e).format("Do MMMM")},randomizeNumber:function(e){return Math.floor(Math.random()*(e+1))},changeDescription:function(){var e=this.randomizeNumber(this.reviews.length-1);this.randomDescription=this.reviews[e],this.randomDescription.description.length<1&&this.changeDescription()},getBookFromSlug:function(){var e=this;i.a.getFromSlug(this.$route.params.slug).then(function(t){if(t.data.reviews.length>0){var n=t.data.reviews;e.reviews=n,e.changeDescription()}e.currentBook=t.data,e.genre=t.data.genres[0],e.author.name&&(e.author.name=t.data.authors[0].firstname+" "+t.data.authors[0].lastname,e.author.id=t.data.authors[0].id)})},getReviews:function(e){var t=this;a.a.getAll(e).then(function(e){t.reviews=e.data})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(17),s=n.n(a),r=n(172),o=n.n(r);n(56),i.default.use(o.a),t.default={name:"book-list",props:["books","title"],components:{StarRating:s.a},data:function(){return{swiperOptions:{nextButton:".swiper-button-next",prevButton:".swiper-button-prev",slidesPerView:5,spaceBetween:50,autoplay:4e3,breakpoints:{1400:{slidesPerView:4,spaceBetween:30},1e3:{slidesPerView:3,spaceBetween:30},750:{slidesPerView:2,spaceBetween:30},520:{slidesPerView:1,spaceBetween:30}}}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(295),s=n(338),r=n.n(s),o=n(7),c=n(43),l=n(11),u=n.n(l),d=n(176),v=n.n(d),h=n(23),p=n.n(h),f=n(14);i.default.directive("tooltip",a.a),n(260),t.default={name:"books",metaInfo:{title:"Alla böcker"},components:{MugenScroll:r.a,Icon:u.a,SyncLoader:v.a},props:["genre","forceSearch"],data:function(){return{searchTerm:"",displaySearch:!1,selected:"",imagesUrl:f.a.images,busy:!1,image:"",genres:[],queryParams:{genre:[]},page:1,booksToDisplay:10,loading:!1}},computed:{paginatedBooks:function(){return this.$store.state.books.slice(0,this.page*this.booksToDisplay)},allBooksFetched:function(){return this.$store.state.books.length===this.paginatedBooks.length}},watch:{searchTerm:p.a.debounce(function(){this.searchBooks()},500)},created:function(){this.getGenres(),this.$route.params.genre?this.addGenreToQuery(this.$route.params.genre):this.$route.params.forceSearch?(this.displaySearch=!0,this.searchTerm=this.$route.params.forceSearch,this.searchBooks()):this.getBooks()},methods:{gaGenre:function(e){this.$ga.event({eventCategory:"Leta böcker",eventAction:"Genre",eventLabel:e.name})},gaSearch:function(e){this.$ga.event({eventCategory:"Leta böcker",eventAction:"Sökning",eventLabel:e})},incrementPage:function(){this.loading=!0,this.page+=1,this.loading=!1},toggleSearch:function(){this.displaySearch=!this.displaySearch,this.searchTerm=""},addGenreToQuery:function(e){this.queryParams.genre[0]===e.slug?(this.getBooks(),this.queryParams.genre.pop()):(this.queryParams.genre[0]=e.slug,this.searchBooks())},toggleSelected:function(e){this.selected===e?this.selected="":this.selected=e,this.addGenreToQuery(e)},searchBooks:function(){var e=this;this.queryParams.genre.length>0?o.a.searchFromGenre(this.queryParams.genre,this.searchTerm).then(function(t){e.$store.commit("books",t.data)}):(this.gaSearch(this.searchTerm),o.a.search(this.searchTerm).then(function(t){e.$store.commit("books",t.data)}))},getBooks:function(){var e=this;o.a.getAll().then(function(t){e.$store.commit("books",t.data)})},getGenres:function(){var e=this;c.a.getAll().then(function(t){e.$store.commit("genres",t.data),e.$route.params.genre&&e.$store.state.genres.forEach(function(t){t.id===e.$route.params.genre.id&&(e.selected=t)})})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),a=n.n(i),s=n(13),r=n(174),o=n.n(r),c=n(14),l=n(0),u=n.n(l);t.default={name:"edit-review-audio",components:{StarRating:a.a,"audio-editor":o.a},data:function(){return{reviewLocal:this.review,audioUrl:c.a.audio,local:{audio:{description:this.review.descriptionAudioUrl,review:this.review.reviewAudioUrl},blobs:{description:"",review:""},source:{description:"description",review:"review"},isCut:{description:!1,review:!1}}}},props:{review:""},computed:{reviewFormData:function(){var e=new FormData;return e.append("reviewId",this.reviewLocal.id),e.append("descriptionRecording",this.local.blobs.description,this.reviewLocal.books[0].slug),e.append("reviewRecording",this.local.blobs.review,this.reviewLocal.books[0].slug),e}},methods:{formattedAudioUrl:function(e,t){return this.local.isCut[t]?this.local.audio[t]:""+this.audioUrl+e},updateData:function(e,t){this.local.isCut[t]=!0;var n=URL.createObjectURL(e);this.local.audio[t]=n,this.local.blobs[t]=e},closeModal:function(){this.$emit("close")},formattedDate:function(e){return u()(e).format("Do MMMM")},saveAndClose:function(){this.editReview()},editReview:function(){var e=this;s.a.editReviewAudio(this.reviewFormData).then(function(){e.closeModal()})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),a=n(303),s=n.n(a),r=n(4),o=n(339),c=n.n(o),l=n(172),u=n.n(l);n(56),r.default.use(c.a),r.default.use(u.a),t.default={name:"frontpage",metaInfo:{title:"Startsida"},components:{BookList:s.a},created:function(){this.getRecentlyReviewed(),this.getHighestRated(),this.getCount()},data:function(){return{swiperOptions:{nextButton:".swiper-button-next",prevButton:".swiper-button-prev",slidesPerView:1,slidesPerGroup:1,centeredSlides:!0,autoplay:5e3}}},methods:{getCount:function(){var e=this;i.a.count().then(function(t){e.$store.commit("count",{books:t.data.books.count,reviews:t.data.reviews.count})})},getRecentlyReviewed:function(){var e=this;i.a.getRecentlyReviewed().then(function(t){e.$store.commit("recentlyReviewedBooks",t.data)})},getHighestRated:function(){var e=this;i.a.getHighestRated().then(function(t){e.$store.commit("highestRatedBooks",t.data)})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(42);t.default={name:"login",computed:{isAdmin:function(){return this.$store.state.isAdmin}},data:function(){return{username:"",password:"",loginFailed:!1}},created:function(){this.loginFailed=!1},methods:{login:function(){var e=this;i.a.login({username:this.username,password:this.password}).then(function(t){t.auth?e.changeAdminState():e.loginFailed=!0})},changeAdminState:function(){this.$store.commit("changeAdminState"),this.$router.push({name:"activate-reviews"})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(42),a=n(11),s=n.n(a);t.default={name:"navbar",components:{Icon:s.a},created:function(){this.ipAuth(),this.$store.commit("isMobile")},computed:{isAdmin:function(){return this.$store.state.isAdmin},isDeviceWithWebRTC:function(){return this.$store.getters.isDeviceWithWebRTC}},methods:{logout:function(){i.a.logout(),this.$store.commit("changeAdminState"),this.$router.push({name:"/books"})},ipAuth:function(){var e=this;i.a.ip().then(function(t){t.ipAuth&&e.$store.commit("isAllowedIp")})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(296),s=n(343),r=n.n(s),o=n(7),c=n(43),l=n(200),u=n(14),d=n(173),v=n.n(d);i.default.use(v.a),i.default.use(a.a),t.default={name:"post-book",components:{vSelect:r.a},computed:{isCordovaApp:function(){return this.$store.state.cordova.isApp},isCordovaActive:function(){return this.$store.state.cordova.active},isAdmin:function(){return this.$store.state.isAdmin},genreId:function(){return this.selectedGenre.id}},data:function(){return{selectedGenre:"",isbn:"",authorSelect:!0,authorId:"",newAuthor:{firstname:"",lastname:""},authors:[],manualData:{title:"",pages:""},manualIsbn:!1,manualPost:!1,posted:!1,imagesUrl:u.a.images,error:!1,errorMessage:""}},created:function(){var e=this;this.$nextTick(function(){0===e.$store.state.genres.length&&e.getGenres()})},methods:{validateBeforeSubmitManualBook:function(){var e=this;this.$validator.validateAll().then(function(t){t&&e.publishBookFromManualInput(e.isbn,e.genreId,e.manualData.title,e.manualData.pages,e.authorId,"nopicture.png")})},validateBeforeSubmitManualIsbn:function(){var e=this;this.$validator.validateAll().then(function(t){t&&e.publishBookFromIsbn(e.isbn,e.genreId)})},saveAuthor:function(){this.postAuthor(this.newAuthor.firstname,this.newAuthor.lastname)},addAuthorModal:function(){this.$modal.show("add-author")},leaveModal:function(){this.$modal.hide("add-author")},toggleManualPost:function(){this.getAuthors(),this.posted=!1,this.manualData.title="",this.manualData.pages="",this.isbn="",this.manualIsbn=!1,this.manualPost=!this.manualPost},toggleManualIsbn:function(){this.posted=!1,this.manualPost=!1,this.manualIsbn=!this.manualIsbn},toggleselectedGenre:function(e){this.selectedGenre===e?this.selectedGenre="":this.selectedGenre=e},bookPosted:function(e){this.posted=!0,this.selectedGenre="",this.manualData.title="",this.manualData.pages="",this.manualPost=!1,this.error=!1,this.isbn="",this.$validator.reset(),this.$store.commit("toggleQr",{title:e.data.title,slug:e.data.slug,id:e.data.id})},barcodeScanner:function(){var e=this;window.cordova.plugins.barcodeScanner.scan(function(t){e.isbn=t.text,e.publishBookFromIsbn(t.text,e.genreId).then(function(){e.bookPosted()})},function(){})},publishBookFromIsbn:function(e,t){var n=this;this.posted=!1,o.a.publishBookFromIsbn(e,t).then(function(e){e.added?n.bookPosted(e):(n.error=!0,n.errorMessage=e.message)})},publishBookFromManualInput:function(e,t,n,i,a,s){var r=this;o.a.publishBookFromManualInput(e,t,n,i,a,s).then(function(e){r.bookPosted(e)})},postAuthor:function(e,t){var n=this;l.a.create(e,t).then(function(e){n.authors.push(e.data),n.authorId=e.data.id,n.authorSelect=!0,n.$modal.hide("add-author")})},getGenres:function(){var e=this;c.a.getAll().then(function(t){e.$store.commit("genres",t.data)})},getAuthors:function(){var e=this;l.a.getAll().then(function(t){e.authors=t.data})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(223),a=n.n(i),s=n(7),r=n(13),o=n(17),c=n.n(o),l=n(313),u=n.n(l),d=n(176),v=n.n(d);t.default={name:"publish-review",components:{"vue-record":u.a,"star-rating":c.a,SyncLoader:v.a},props:["book"],data:function(){return{currentBook:{},review:{description:"",review:"",rating:0,reviewerId:null,bookId:null},audio:{description:"",review:""},publishing:!1,published:!1}},created:function(){this.getData()},computed:{reviewFormData:function(){var e=this,t=new FormData;return a()(this.review).forEach(function(n){t.append(n,e.review[n])}),t.append("descriptionRecording",this.audio.description,this.$route.params.slug),t.append("reviewRecording",this.audio.review,this.$route.params.slug),t}},methods:{updateAudio:function(e,t){this.audio[t]=e},getData:function(){this.book?(this.currentBook=this.book,this.review.bookId=this.book.id):this.getBookFromSlug()},getBookFromSlug:function(){var e=this;s.a.getFromSlug(this.$route.params.slug).then(function(t){e.currentBook=t.data,e.review.bookId=t.data.id})},postReview:function(){var e=this;this.publishing=!0,r.a.create(this.reviewFormData).then(function(){e.published=!0,e.publishing=!1})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(341),s=n.n(a);i.default.use(s.a),t.default={name:"qr-codes",created:function(){},computed:{books:function(){return this.$store.state.qrArray}},methods:{short:function(e){return e.slice(0,10)},resetQr:function(){this.$store.commit("resetQr")},print:function(){window.print()},toggleQr:function(e){this.$store.commit("toggleQr",e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(224),a=n.n(i),s=n(7),r=n(292),o=n.n(r),c=n(340);t.default={name:"scanner",components:{"qrcode-reader":c.default},computed:{isDeviceWithWebRTC:function(){return this.$store.getters.isDeviceWithWebRTC}},data:function(){return{media:!1,scanned:!0}},methods:{quaggaScanner:function(){var e=this;o.a.init({inputStream:{name:"Live",type:"LiveStream",numOfWorkers:navigator.hardwareConcurrency,target:this.$refs.scanner,readers:["qr_code_reader"]}},function(t){o.a.start(),o.a.onDetected(function(t){e.getBookFromIsbn(t.codeResult.code).then(function(t){e.$router.push("/book/"+t)}).catch(function(){e.scanned=!1}),o.a.stop()})})},onDecode:function(e){var t=this;this.getBookFromIsbn(e).then(function(e){t.$router.push("/book/"+e)}).catch(function(){t.scanned=!1})},barcodeScanner:function(){var e=this;this.scanned=!0,window.cordova.plugins.barcodeScanner.scan(function(t){e.getBookFromIsbn(t.text).then(function(t){e.$router.push("/book/"+t)}).catch(function(){e.scanned=!1})},function(){})},getBookFromIsbn:function(e){return new a.a(function(t,n){s.a.getFromIsbn(e).then(function(e){t(e.data.slug)}).catch(function(e){n(e)})})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(293),a=n.n(i),s=(n(25),n(287)),r=n.n(s),o=n(174),c=n.n(o),l=n(11),u=n.n(l);t.default={components:{"audio-editor":c.a,Icon:u.a},props:{blob:"",source:"",options:{default:function(){return{type:"audio",mimeType:"video/webm",bufferSize:0,sampleRate:44100,leftChannel:!1,disableLogs:!1}}}},data:function(){return{localBlob:this.blob,dataUrl:"",maxLength:30,Timer:r()(),recordingLength:"",isRecording:!1,isEditing:!1,newRecording:0}},watch:{recordingLength:function(){this.recordingLength>this.maxLength&&this.stopRecording()}},methods:{trashRecording:function(){this.isEditing=!1,this.dataUrl="",this.$emit("updateBlob",null,this.source)},updateData:function(e){this.dataUrl=URL.createObjectURL(e),this.localBlob=e,this.$emit("updateBlob",e,this.source)},startTimer:function(){var e=this;this.Timer.start(),this.recordingLength=0,this.interval=window.setInterval(function(){var t=e.Timer.elapsedTime();e.recordingLength=(t/1e3).toFixed(1)},500)},stopTimer:function(e){this.updateData(e),window.clearInterval(this.interval),this.isEditing=!0},captureUserMedia:function(e,t,n){if(!!/BB10|BlackBerry/i.test(navigator.userAgent||"")&&(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mediaDevices.getUserMedia||navigator.mozGetUserMedia))return navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,void navigator.getUserMedia(e,t,n);navigator.mediaDevices.getUserMedia(e).then(t).catch(n)},_addStreamStopListener:function(e,t){var n="ended";"oninactive"in e&&(n="inactive"),this._stream.addEventListener(n,function(){t(),t=function(){}},!1),this._stream.getAudioTracks().forEach(function(e){e.addEventListener(n,function(){t(),t=function(){}},!1)})},startRecording:function(){var e=this;this.captureUserMedia({audio:!0},function(t){e.$emit("record:start"),e.isRecording=!0,e._stream=t,e._recordRTC=a()(t,e.options),e._recordRTC.startRecording(),e._addStreamStopListener(t,function(){e.isRecording=!1})},function(t){e.$emit("record:error"),e.isRecording=!1}),this.startTimer()},stopRecording:function(){var e=this;this._recordRTC.stopRecording(function(){e._stream.stop(),e.stopTimer(e._recordRTC.getBlob())})},deleteRecording:function(){this.isEditing=!1}},destroyed:function(){this.stopRecording()}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,function(e,t,n){function i(e){return n(a(e))}function a(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var s={"./af":57,"./af.js":57,"./ar":64,"./ar-dz":58,"./ar-dz.js":58,"./ar-kw":59,"./ar-kw.js":59,"./ar-ly":60,"./ar-ly.js":60,"./ar-ma":61,"./ar-ma.js":61,"./ar-sa":62,"./ar-sa.js":62,"./ar-tn":63,"./ar-tn.js":63,"./ar.js":64,"./az":65,"./az.js":65,"./be":66,"./be.js":66,"./bg":67,"./bg.js":67,"./bn":68,"./bn.js":68,"./bo":69,"./bo.js":69,"./br":70,"./br.js":70,"./bs":71,"./bs.js":71,"./ca":72,"./ca.js":72,"./cs":73,"./cs.js":73,"./cv":74,"./cv.js":74,"./cy":75,"./cy.js":75,"./da":76,"./da.js":76,"./de":79,"./de-at":77,"./de-at.js":77,"./de-ch":78,"./de-ch.js":78,"./de.js":79,"./dv":80,"./dv.js":80,"./el":81,"./el.js":81,"./en-au":82,"./en-au.js":82,"./en-ca":83,"./en-ca.js":83,"./en-gb":84,"./en-gb.js":84,"./en-ie":85,"./en-ie.js":85,"./en-nz":86,"./en-nz.js":86,"./eo":87,"./eo.js":87,"./es":89,"./es-do":88,"./es-do.js":88,"./es.js":89,"./et":90,"./et.js":90,"./eu":91,"./eu.js":91,"./fa":92,"./fa.js":92,"./fi":93,"./fi.js":93,"./fo":94,"./fo.js":94,"./fr":97,"./fr-ca":95,"./fr-ca.js":95,"./fr-ch":96,"./fr-ch.js":96,"./fr.js":97,"./fy":98,"./fy.js":98,"./gd":99,"./gd.js":99,"./gl":100,"./gl.js":100,"./gom-latn":101,"./gom-latn.js":101,"./he":102,"./he.js":102,"./hi":103,"./hi.js":103,"./hr":104,"./hr.js":104,"./hu":105,"./hu.js":105,"./hy-am":106,"./hy-am.js":106,"./id":107,"./id.js":107,"./is":108,"./is.js":108,"./it":109,"./it.js":109,"./ja":110,"./ja.js":110,"./jv":111,"./jv.js":111,"./ka":112,"./ka.js":112,"./kk":113,"./kk.js":113,"./km":114,"./km.js":114,"./kn":115,"./kn.js":115,"./ko":116,"./ko.js":116,"./ky":117,"./ky.js":117,"./lb":118,"./lb.js":118,"./lo":119,"./lo.js":119,"./lt":120,"./lt.js":120,"./lv":121,"./lv.js":121,"./me":122,"./me.js":122,"./mi":123,"./mi.js":123,"./mk":124,"./mk.js":124,"./ml":125,"./ml.js":125,"./mr":126,"./mr.js":126,"./ms":128,"./ms-my":127,"./ms-my.js":127,"./ms.js":128,"./my":129,"./my.js":129,"./nb":130,"./nb.js":130,"./ne":131,"./ne.js":131,"./nl":133,"./nl-be":132,"./nl-be.js":132,"./nl.js":133,"./nn":134,"./nn.js":134,"./pa-in":135,"./pa-in.js":135,"./pl":136,"./pl.js":136,"./pt":138,"./pt-br":137,"./pt-br.js":137,"./pt.js":138,"./ro":139,"./ro.js":139,"./ru":140,"./ru.js":140,"./sd":141,"./sd.js":141,"./se":142,"./se.js":142,"./si":143,"./si.js":143,"./sk":144,"./sk.js":144,"./sl":145,"./sl.js":145,"./sq":146,"./sq.js":146,"./sr":148,"./sr-cyrl":147,"./sr-cyrl.js":147,"./sr.js":148,"./ss":149,"./ss.js":149,"./sv":24,"./sv.js":24,"./sw":150,"./sw.js":150,"./ta":151,"./ta.js":151,"./te":152,"./te.js":152,"./tet":153,"./tet.js":153,"./th":154,"./th.js":154,"./tl-ph":155,"./tl-ph.js":155,"./tlh":156,"./tlh.js":156,"./tr":157,"./tr.js":157,"./tzl":158,"./tzl.js":158,"./tzm":160,"./tzm-latn":159,"./tzm-latn.js":159,"./tzm.js":160,"./uk":161,"./uk.js":161,"./ur":162,"./ur.js":162,"./uz":164,"./uz-latn":163,"./uz-latn.js":163,"./uz.js":164,"./vi":165,"./vi.js":165,"./x-pseudo":166,"./x-pseudo.js":166,"./yo":167,"./yo.js":167,"./zh-cn":168,"./zh-cn.js":168,"./zh-hk":169,"./zh-hk.js":169,"./zh-tw":170,"./zh-tw.js":170};i.keys=function(){return Object.keys(s)},i.resolve=a,e.exports=i,i.id=289},,,,,,,,,,function(e,t,n){function i(e){n(265)}var a=n(1)(n(206),n(320),i,"data-v-2339da4e",null);e.exports=a.exports},function(e,t,n){function i(e){n(273)}var a=n(1)(n(207),n(328),i,"data-v-64ea81a9",null);e.exports=a.exports},function(e,t,n){function i(e){n(275)}var a=n(1)(n(208),n(331),i,"data-v-74610910",null);e.exports=a.exports},function(e,t,n){function i(e){n(274)}var a=n(1)(n(211),n(330),i,"data-v-7323cc58",null);e.exports=a.exports},function(e,t,n){function i(e){n(262)}var a=n(1)(n(212),n(317),i,"data-v-06a28af6",null);e.exports=a.exports},function(e,t,n){function i(e){n(266),n(267)}var a=n(1)(n(213),n(321),i,"data-v-2661fa2a",null);e.exports=a.exports},function(e,t,n){function i(e){n(279)}var a=n(1)(n(214),n(335),i,"data-v-d7eab216",null);e.exports=a.exports},function(e,t,n){function i(e){n(277)}var a=n(1)(n(215),n(333),i,"data-v-9be61e0e",null);e.exports=a.exports},function(e,t,n){function i(e){n(263)}var a=n(1)(n(216),n(318),i,"data-v-0c99582a",null);e.exports=a.exports},function(e,t,n){function i(e){n(269)}var a=n(1)(n(217),n(323),i,"data-v-3689edc2",null);e.exports=a.exports},function(e,t,n){function i(e){n(278)}var a=n(1)(n(218),n(334),i,"data-v-bda2a310",null);e.exports=a.exports},function(e,t,n){function i(e){n(272)}var a=n(1)(n(219),n(327),i,"data-v-574a6bf0",null);e.exports=a.exports},function(e,t,n){function i(e){n(264)}var a=n(1)(n(220),n(319),i,"data-v-199d99f4",null);e.exports=a.exports},function(e,t,n){function i(e){n(271)}var a=n(1)(n(221),n(326),i,"data-v-547df402",null);e.exports=a.exports},function(e,t,n){function i(e){n(268)}var a=n(1)(n(222),n(322),i,"data-v-29379ab8",null);e.exports=a.exports},function(e,t,n){var i=n(1)(n(202),n(329),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(1)(n(203),n(324),null,null,null);e.exports=i.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editor"},[n("div",{staticClass:"menu"},[e.isPlaying?e._e():n("button",{staticClass:"button",on:{click:e.play}},[n("icon",{attrs:{name:"play",scale:"2"}})],1),e._v(" "),e.isPlaying?n("button",{staticClass:"button",on:{click:e.pause}},[n("icon",{attrs:{name:"pause",scale:"2"}})],1):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isEditing,expression:"isEditing"}],staticClass:"time"},[e._v("\n      "+e._s(e.roundedTime)+"\n    ")]),e._v(" "),n("button",{staticClass:"button",on:{click:e.cutBlob}},[n("icon",{attrs:{name:"scissors",scale:"2"}})],1),e._v(" "),e.history.length>0?n("button",{staticClass:"button",on:{click:e.undoSlice}},[n("icon",{attrs:{name:"undo",scale:"2"}})],1):e._e(),e._v(" "),n("button",{staticClass:"button",on:{click:e.trashRecording}},[n("icon",{attrs:{name:"trash-o",scale:"2"}})],1)]),e._v(" "),n("div",{staticClass:"waveform",attrs:{id:e.waveformId},on:{click:e.setTime}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v(e._s(e.title))]),e._v(" "),n("swiper",{ref:"swiper",attrs:{options:e.swiperOptions}},[e._l(e.books,function(t){return n("swiper-slide",{key:t.id},[n("router-link",{staticClass:"link",attrs:{to:{name:"bok",params:{slug:t.slug}}}},[n("div",{staticClass:"wrap"},[n("star-rating",{staticClass:"book-rating",attrs:{"read-only":!0,"max-rating":5,inline:!0,"show-rating":!1,"inactive-color":"#c2c7c9","active-color":"#c98bdb","star-size":20},model:{value:t.rating,callback:function(e){t.rating=e},expression:"book.rating"}})],1),e._v(" "),t.localImage?n("img",{staticClass:"front-img",attrs:{src:""+e.imagesUrl+t.imageUrl}}):e._e(),e._v(" "),t.localImage?e._e():n("img",{staticClass:"front-img",attrs:{src:t.imageUrl}})])],1)}),e._v(" "),e.$store.state.userAgent.isMobile?e._e():n("div",{staticClass:"swiper-button-prev swiper-button-black",slot:"button-prev"}),e._v(" "),e.$store.state.userAgent.isMobile?e._e():n("div",{staticClass:"swiper-button-next swiper-button-black",slot:"button-next"})],2)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-author flex-box"},[n("h3",[e._v("Logga in")]),e._v(" "),n("div",{staticClass:"flex-container"},[n("div",{staticClass:"flex-left-modal"},[e._v("\n        Användarnamn\n      ")]),e._v(" "),n("div",{staticClass:"flex-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{placeholder:"Användarnamn"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"flex-left-modal"},[e._v("\n        Lösenord\n      ")]),e._v(" "),n("div",{staticClass:"flex-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Lösenord"},domProps:{value:e.password},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.login(t)},input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"modal-menu"},[e.loginFailed?n("div",{staticClass:"error"},[e._v("\n          Fel användarnamn eller lösenord.\n        ")]):e._e(),e._v(" "),n("button",{staticClass:"button",on:{click:e.login}},[e._v("Logga in\n        ")])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"menu"},[n("button",{staticClass:"publish-button red",on:{click:e.resetQr}},[e._v("Rensa")]),e._v(" "),n("button",{staticClass:"publish-button",on:{click:e.print}},[e._v("Skriv ut")])]),e._v(" "),n("div",{staticClass:"qr-container"},e._l(e.books,function(t){return n("div",{staticClass:"code",on:{click:function(n){e.toggleQr(t)}}},[n("p",[e._v(e._s(e.short(t.title)))]),e._v(" "),n("qriously",{attrs:{value:"https://ellabib.se/book/"+t.slug,size:100}})],1)}))])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h1",[e._v("Ellabib")]),e._v(" "),n("div",{staticClass:"text"},[n("p",[e._v("Ellabib är en app för Ellagårdsskolans bibliotek. Här hittar ni bokrecensioner skrivna och upplästa av våra elever.")]),e._v(" "),n("h2",[e._v("Källor")]),e._v(" "),n("p",[e._v("Informationen om böckerna kommer från "),n("a",{attrs:{href:"https://bokhavet.se/api"}},[e._v("Bokhavets API")]),e._v(".")])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[0==e.$store.state.genres.length?n("div",{staticClass:"loading"},[n("sync-loader",{attrs:{color:"#71c5e8"}})],1):n("div",{staticClass:"genre-search"},[e._l(e.$store.state.genres,function(t){return n("a",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.name,expression:"genre.name",modifiers:{bottom:!0}}],staticClass:"genre tooltip"},[n("img",{staticClass:"genre-icon",class:{selected:e.selected==t},attrs:{src:""+e.imagesUrl+t.slug+".png"},on:{click:function(n){e.toggleSelected(t),e.gaGenre(t)}}})])}),e._v(" "),n("a",{staticClass:"genre button",on:{click:e.toggleSearch}},[n("icon",{attrs:{name:"search",scale:"2"}})],1)],2),e._v(" "),n("transition",{attrs:{name:"fadeLeft"}},[e.displaySearch?n("div",{staticClass:"searchbar"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],staticClass:"searchform",attrs:{type:"text",placeholder:"Sök efter titel/författare..."},domProps:{value:e.searchTerm},on:{input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}})]):e._e()]),e._v(" "),n("div",{staticClass:"wrapper flex-container"},e._l(e.paginatedBooks,function(t){return n("div",{staticClass:"book"},[n("router-link",{staticClass:"link",attrs:{to:{name:"bok",params:{slug:t.slug}}}},[t.localImage?n("img",{staticClass:"front-img",attrs:{src:""+e.imagesUrl+t.imageUrl}}):e._e(),e._v(" "),t.localImage?e._e():n("img",{staticClass:"front-img",attrs:{src:t.imageUrl}}),e._v(" "),n("h3",[e._v(e._s(t.title))])])],1)})),e._v(" "),e.allBooksFetched?e._e():n("mugen-scroll",{attrs:{handler:e.incrementPage,"should-handle":!e.loading}},[n("sync-loader",{attrs:{color:"#71c5e8"}})],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEditing,expression:"!isEditing"}]},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.isRecording,expression:"isRecording"}],staticClass:"button stop",on:{click:e.stopRecording}},[n("icon",{attrs:{name:"stop",scale:"2"}})],1),e._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:!e.isRecording,expression:"!isRecording"}],staticClass:"button record",on:{click:e.startRecording}},[n("icon",{attrs:{name:"microphone",scale:"2"}})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isRecording,expression:"isRecording"}],staticClass:"counter"},[e._v("\n      "+e._s(e.recordingLength)+"\n    ")])]),e._v(" "),e.dataUrl.length>0?n("audio-editor",{ref:"editor",staticClass:"editor",attrs:{dataUrl:e.dataUrl,source:e.source,isEditing:e.isEditing},on:{cut:e.updateData,trashRecording:e.trashRecording}}):e._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("router-link",{attrs:{to:"/"}},[n("img",{attrs:{src:"https://ellabib.se/images/ellabib.png"}})]),e._v(" "),n("router-link",{attrs:{to:"/books"}},[e._v("Böcker")]),e._v(" "),n("router-link",{directives:[{name:"show",rawName:"v-show",value:e.isDeviceWithWebRTC,expression:"isDeviceWithWebRTC"}],attrs:{to:"/scanner"}},[e._v("Scanner")]),e._v(" "),n("router-link",{attrs:{to:"/about"}},[e._v("Om")]),e._v(" "),n("div",{staticClass:"admin"},[n("router-link",{directives:[{name:"show",rawName:"v-show",value:e.isAdmin,expression:"isAdmin"}],attrs:{to:"/admin"}},[n("icon",{attrs:{name:"cog",scale:"2"}})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isAdmin,expression:"isAdmin"}],staticClass:"login",on:{click:e.logout}},[n("icon",{attrs:{name:"sign-out",scale:"2"}})],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"swiper-container"},[e._t("parallax-bg"),e._v(" "),n("div",{class:e.defaultSwiperClasses.wrapperClass},[e._t("default")],2),e._v(" "),e._t("pagination"),e._v(" "),e._t("button-prev"),e._v(" "),e._t("button-next"),e._v(" "),e._t("scrollbar")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.playing?n("button",{staticClass:"button pause",on:{click:e.togglePlayback}},[n("icon",{attrs:{name:"pause",scale:"2"}})],1):n("button",{staticClass:"button",on:{click:function(t){e.togglePlayback()}}},[n("icon",{attrs:{name:"play",scale:"2"}})],1),e._v(" "),n("button",{staticClass:"button",on:{click:function(t){e.reset()}}},[n("icon",{attrs:{name:"fast-backward",scale:"2"}})],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{ref:"scanner",staticClass:"scan-area"}),e._v(" "),n("qrcode-reader",{on:{decode:e.onDecode}}),e._v(" "),e.isDeviceWithWebRTC?e._e():n("div",{staticClass:"browser"},[e._v("För att kunna scanna efter böcker måste du ha appen.\n  ")]),e._v(" "),e.scanned?e._e():n("div",{staticClass:"error"},[n("h2",[e._v("Tyvärr! Boken är inte inlagd i Ellabib.")])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e.published?n("div",{staticClass:"wrapper"},[e._m(0)]):e._e(),e._v(" "),e.published?e._e():n("div",{staticClass:"wrapper"},[n("div",{staticClass:"book-description"},[n("div",[n("h1",[e._v("Beskrivning")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.review.description,expression:"review.description"}],staticClass:"publish-textarea review",attrs:{placeholder:"Skriv vad boken handlar om här."},domProps:{value:e.review.description},on:{input:function(t){t.target.composing||(e.review.description=t.target.value)}}})]),e._v(" "),e.$store.getters.isDeviceWithMic?n("vue-record",{staticClass:"audio-recorder",attrs:{source:"description",blob:e.audio.description},on:{updateBlob:e.updateAudio}}):e._e()],1),e._v(" "),n("div",{staticClass:"book-review"},[n("h1",[e._v("Recension")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.review.review,expression:"review.review"}],staticClass:"publish-textarea description",attrs:{placeholder:"Skriv din bokrecension här."},domProps:{value:e.review.review},on:{input:function(t){t.target.composing||(e.review.review=t.target.value)}}}),e._v(" "),e.$store.getters.isDeviceWithMic?n("vue-record",{staticClass:"audio-recorder",attrs:{source:"review",blob:e.audio.review},on:{updateBlob:e.updateAudio}}):e._e()],1),e._v(" "),n("div",{staticClass:"publish flex-container column"},[n("star-rating",{attrs:{increment:1,"max-rating":5,"inactive-color":"#c2c7c9","active-color":"#c98bdb","star-size":30,"show-rating":!1},model:{value:e.review.rating,callback:function(t){e.review.rating=t},expression:"review.rating"}}),e._v(" "),e.publishing?e._e():n("button",{staticClass:"publish-button",on:{click:e.postReview}},[e._v("Skicka\n      ")]),e._v(" "),e.publishing?n("div",{staticClass:"loading"},[n("h2",[e._v("Publicerar...")]),e._v(" "),n("sync-loader",{attrs:{color:"#71c5e8"}})],1):e._e()],1)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"book-description"},[n("h1",[e._v("Jippi! Din recension har nu skickats in!")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("modal",{attrs:{name:"edit-review-audio-modal",height:700},on:{"before-open":e.loadDataAudioModal}},[n("edit-review-audio",{attrs:{review:e.modalReview},on:{close:e.closeAudioModal}})],1),e._v(" "),e._l(e.reviews,function(t){return n("div",{staticClass:"reviews"},[n("div",{staticClass:"flex-container"},[n("div",{staticClass:"image"},[t.books[0].localImage?n("img",{staticClass:"front-img",attrs:{src:""+e.imagesUrl+t.books[0].imageUrl}}):e._e(),e._v(" "),t.books[0].localImage?e._e():n("img",{staticClass:"front-img",attrs:{src:t.books[0].imageUrl}})]),e._v(" "),n("div",[n("div",{staticClass:"text-container"},[n("h1",[e._v(e._s(t.books[0].title))]),e._v(" "),n("div",{staticClass:"review-header flex-container"},[n("div",{staticClass:"review-title"},[n("span",[e._v("Publicerad den "+e._s(e.formattedDate(t.createdAt))+"  ")])]),e._v(" "),n("star-rating",{staticClass:"review-rating",attrs:{"read-only":!0,"max-rating":5,"inactive-color":"#c2c7c9","active-color":"#c98bdb","star-size":20},model:{value:t.rating,callback:function(e){t.rating=e},expression:"review.rating"}})],1),e._v(" "),n("div",{staticClass:"description-body"},[n("h2",[e._v("Beskrivning:")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"review.description"}],staticClass:"disabled-textarea",domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}},[e._v(e._s(t.description))]),e._v(" "),n("audio-player",{staticClass:"audio-player small",attrs:{sources:e.formattedAudioUrl(t.descriptionAudioUrl)}})],1)]),e._v(" "),n("div",{staticClass:"text-container"},[n("div",{staticClass:"review-body"},[n("h2",[e._v("Recension:")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.review,expression:"review.review"}],staticClass:"disabled-textarea",domProps:{value:t.review},on:{input:function(e){e.target.composing||(t.review=e.target.value)}}},[e._v(e._s(t.review))]),e._v(" "),n("audio-player",{staticClass:"audio-player small",attrs:{sources:e.formattedAudioUrl(t.reviewAudioUrl)}})],1)])])]),e._v(" "),n("div",{staticClass:"buttons"},[n("div",{staticClass:"button-2 edit",domProps:{innerHTML:e._s(e.unicodeIcons.edit)},on:{click:function(n){e.editAudioModal(t)}}}),e._v(" "),t.active?e._e():n("div",{staticClass:"button-2 accept",domProps:{innerHTML:e._s(e.unicodeIcons.empty)},on:{click:function(n){e.toggleAccepted(t)}}}),e._v(" "),t.active?n("div",{staticClass:"button-2 removeAccept",domProps:{innerHTML:e._s(e.unicodeIcons.accepted)},on:{click:function(n){e.toggleAccepted(t)}}}):e._e()]),e._v(" "),n("hr")])}),e._v(" "),e.reviews.length>0?n("div",{staticClass:"buttons"},[e.selectedForActivation.length==e.reviews.length?n("a",{staticClass:"addAll-button",on:{click:e.removeAllReviewsForActivation}},[e._v("Avmarkera alla ("+e._s(e.reviews.length)+")\n    ")]):n("a",{staticClass:"addAll-button",on:{click:e.addAllReviewsForActivation}},[e._v("Markera alla ("+e._s(e.reviews.length)+")\n    ")]),e._v(" "),n("a",{staticClass:"publish-button",on:{click:e.activateReviews}},[e._v("Spara ("+e._s(e.selectedForActivation.length)+")\n    ")])]):e._e(),e._v(" "),0==e.reviews.length?n("div",{staticClass:"no-reviews"},[n("h1",[e._v("\n      Inga recensioner väntar på att bli aktiverade\n    ")])]):e._e()],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.slideClass},[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e.$store.state.isAdmin?n("div",{staticClass:"admin-nav"},[n("a",{staticClass:"admin-anchor",on:{click:e.editBook}},[e._v("Ändra bokinfo\n      ")]),e._v(" "),n("a",{staticClass:"admin-anchor",on:{click:function(t){e.$store.commit("toggleQr",{title:e.currentBook.title,slug:e.currentBook.slug,id:e.currentBook.id})}}},[e.inQr(e.currentBook.id)?n("p",[e._v("-QR")]):n("p",[e._v("+QR")])])]):e._e(),e._v(" "),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"description flex-container"},[n("div",{staticClass:"image",on:{click:e.changeDescription}},[e.currentBook.localImage?n("img",{staticClass:"front-img",attrs:{src:""+e.imagesUrl+e.currentBook.imageUrl}}):e._e(),e._v(" "),e.currentBook.localImage?e._e():n("img",{staticClass:"front-img",attrs:{src:e.currentBook.imageUrl}})]),e._v(" "),n("div",{staticClass:"text"},[n("header",{staticClass:"book-header"},[n("h1",[e._v(e._s(e.currentBook.title))]),e._v(" "),n("p",{staticClass:"author"},[e._v("av:\n             "),n("router-link",{staticClass:"authorlink",attrs:{to:{name:"books",params:{forceSearch:e.author.name}}}},[e._v("\n              "+e._s(e.author.name)+"\n             ")])],1)]),e._v(" "),n("div",{staticClass:"description-body"},[0==e.reviews.length&&e.$store.getters.isAllowedToPublish?n("p",{staticClass:"no-review"},[e._v("Bli den första att recensera boken genom att trycka på stjärnan!")]):e._e(),e._v(" "),0!=e.reviews.length||e.$store.getters.isAllowedToPublish?e._e():n("p",{staticClass:"no-review"},[e._v("Det finns ingen recension för boken.")]),e._v(" "),e.reviews.length>0?n("p",[e._v(e._s(e.randomDescription.description))]):e._e(),e._v(" "),n("div",{staticClass:"buttons flex-container"},[e.randomDescription.descriptionAudioUrl?n("audio-player",{staticClass:"audio-player btn",attrs:{sources:e.formattedAudioUrl(e.randomDescription.descriptionAudioUrl),audioInfo:{book:{title:e.currentBook.title,id:e.currentBook.id},type:"description",id:e.randomDescription.id}}}):e._e(),e._v(" "),n("router-link",{staticClass:"btn",attrs:{to:{name:"books",params:{genre:e.genre}}}},[n("img",{staticClass:"genre-icon",attrs:{src:""+e.imagesUrl+e.genre.slug+".png"}})]),e._v(" "),e.$store.getters.isAllowedToPublish?n("router-link",{staticClass:"review-a btn",attrs:{to:{name:"publish-review",params:{book:e.currentBook}}}},[n("div",{staticClass:"button review-button"},[e._v("★")])]):e._e()],1),e._v(" "),n("div",{staticClass:"book-information flex-container"},[n("div",{staticClass:"flex-left"},[e._v("Genre")]),e._v(" "),n("div",{staticClass:"flex-right"},[e._v(e._s(e.genre.name))]),e._v(" "),n("div",{staticClass:"flex-left"},[e._v("Sidor")]),e._v(" "),n("div",{staticClass:"flex-right"},[e._v(e._s(e.currentBook.pages))]),e._v(" "),n("div",{staticClass:"flex-left"},[e._v("Betyg")]),e._v(" "),n("div",{staticClass:"flex-right"},[n("star-rating",{attrs:{"read-only":!0,"max-rating":5,"inactive-color":"#c2c7c9","active-color":"#c98bdb","star-size":20,rtl:!0,increment:.5},model:{value:e.currentBook.rating,callback:function(t){e.currentBook.rating=t},expression:"currentBook.rating"}})],1)])])])]),e._v(" "),e.reviews.length>0?n("div",{staticClass:"reviews"},[n("h2",[e._v("Recensioner")]),e._v(" "),e._l(e.reviews,function(t){return t.review.length>0?n("div",{staticClass:"review"},[n("header",{staticClass:"review-header flex-container"},[n("div",{staticClass:"review-text"},[n("span",[e._v("\n              Publicerad den "+e._s(e.formattedDate(t.createdAt))+"  \n            ")])]),e._v(" "),n("star-rating",{staticClass:"review-rating",attrs:{"read-only":!0,"max-rating":5,"inactive-color":"#c2c7c9","active-color":"#c98bdb","star-size":20},model:{value:t.rating,callback:function(e){t.rating=e},expression:"review.rating"}})],1),e._v(" "),n("div",{staticClass:"review-body"},[n("p",[e._v(e._s(t.review))]),e._v(" "),t.reviewAudioUrl?n("audio-player",{staticClass:"review-audio player",attrs:{sources:e.formattedAudioUrl(t.reviewAudioUrl),audioInfo:{book:{title:e.currentBook.title,id:e.currentBook.id},type:"review",id:e.randomDescription.id}}}):e._e()],1),e._v(" "),e.reviews.length>0?n("hr"):e._e()]):e._e()})],2):e._e()])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"admin-nav"},[n("router-link",{attrs:{to:"/admin/post-book"}},[e._v("Lägg till bok")]),e._v(" "),n("router-link",{attrs:{to:"/admin/activate-reviews"}},[e._v("Aktivera")]),e._v(" "),n("router-link",{attrs:{to:"/admin/qr-codes"}},[e._v("QR ("+e._s(e.$store.state.qrArray.length)+")")]),e._v(" "),n("a",{on:{click:e.addAllQr}},[e._v("\n      QR för alla böcker\n    ")])],1),e._v(" "),n("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("meta",{attrs:{name:"viewport",content:"width=device-width, initial-scale=1.0"}}),e._v(" "),n("nav",{directives:[{name:"sticky",rawName:"v-sticky",value:{zIndex:21},expression:"{ zIndex: 21 }"}]},[n("nav-bar")],1),e._v(" "),n("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("swiper",{ref:"swiper",staticClass:"header-swiper",attrs:{options:e.swiperOptions}},[n("swiper-slide",[n("div",{staticClass:"header"},[n("router-link",{attrs:{to:"/books"}},[0!=e.$store.state.count.books?n("div",{staticClass:"header-text"},[n("span",{staticClass:"one"},[e._v("\n              "+e._s(e.$store.state.count.books)+"\n            ")]),e._v(" "),n("span",[e._v("böcker")])]):e._e()])],1)]),e._v(" "),n("swiper-slide",[n("div",{staticClass:"header"},[n("router-link",{attrs:{to:"/books"}},[0!=e.$store.state.count.books?n("div",{staticClass:"header-text"},[n("span",{staticClass:"one"},[e._v("\n              "+e._s(e.$store.state.count.reviews)+"\n            ")]),e._v(" "),n("span",[e._v("recensioner")])]):e._e()])],1)]),e._v(" "),e.$store.state.userAgent.isMobile?e._e():n("div",{staticClass:"swiper-button-prev swiper-button-black",slot:"button-prev"}),e._v(" "),e.$store.state.userAgent.isMobile?e._e():n("div",{staticClass:"swiper-button-next swiper-button-black",slot:"button-next"})],1),e._v(" "),n("div",{staticClass:"flex-container"},[n("book-list",{staticClass:"list",attrs:{title:"Topplistan",books:e.$store.state.highestRatedBooks}}),e._v(" "),n("book-list",{staticClass:"list",attrs:{title:"Nyligen recenserade",books:e.$store.state.recentlyReviewedBooks}})],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"postbook-container"},[n("div",{staticClass:"genre-search"},e._l(e.$store.state.genres,function(t){return n("div",{staticClass:"genre"},[n("img",{staticClass:"genre-icon",class:{selectedGenre:e.selectedGenre==t},attrs:{src:""+e.imagesUrl+t.slug+".png"},on:{click:function(n){e.toggleselectedGenre(t)}}})])})),e._v(" "),n("div",{staticClass:"menu"},[e.isCordovaApp?n("div",{staticClass:"button float",on:{click:e.barcodeScanner}},[e._v("Scanna\n    ")]):e._e(),e._v(" "),n("div",{staticClass:"button float",on:{click:e.toggleManualIsbn}},[e._v("Ange ISBN\n    ")]),e._v(" "),n("div",{staticClass:"button float",on:{click:e.toggleManualPost}},[e._v("Mata in...\n    ")])]),e._v(" "),e.manualIsbn?n("form",{staticClass:"manual isbn flex-container",on:{submit:function(t){t.preventDefault(),e.validateBeforeSubmitManualIsbn(t)}}},[n("div",{staticClass:"flex-left"},[e._v("\n        Genre\n      ")]),e._v(" "),n("div",{staticClass:"flex-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre.name,expression:"selectedGenre.name"}],class:{"has-error":e.errors.has("genre")},attrs:{placeholder:"Välj i listan ovan",disabled:""},domProps:{value:e.selectedGenre.name},on:{input:function(t){t.target.composing||(e.selectedGenre.name=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre.name,expression:"selectedGenre.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"genre",type:"hidden"},domProps:{value:e.selectedGenre.name},on:{input:function(t){t.target.composing||(e.selectedGenre.name=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"flex-left"},[e._v("\n        ISBN\n      ")]),e._v(" "),n("div",{staticClass:"flex-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.isbn,expression:"isbn"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"has-error":e.errors.has("isbn")},attrs:{name:"isbn",placeholder:"ISBN"},domProps:{value:e.isbn},on:{input:function(t){t.target.composing||(e.isbn=t.target.value)}}})]),e._v(" "),e._m(0)]):e._e(),e._v(" "),e.manualPost?n("form",{staticClass:"manual post flex-container",on:{submit:function(t){t.preventDefault(),e.validateBeforeSubmitManualBook(t)}}},[n("div",{staticClass:"flex-left"},[e._v("\n      Genre\n    ")]),e._v(" "),n("div",{staticClass:"flex-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre.name,expression:"selectedGenre.name"}],class:{"has-error":e.errors.has("genre")},attrs:{placeholder:"Välj i listan ovan",disabled:""},domProps:{value:e.selectedGenre.name},on:{input:function(t){t.target.composing||(e.selectedGenre.name=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre.name,expression:"selectedGenre.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"genre",type:"hidden"},domProps:{value:e.selectedGenre.name},on:{input:function(t){t.target.composing||(e.selectedGenre.name=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"flex-left"},[e._v("\n      ISBN\n    ")]),e._v(" "),n("div",{staticClass:"flex-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.isbn,expression:"isbn"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"has-error":e.errors.has("isbn")},attrs:{name:"isbn",placeholder:"ISBN"},domProps:{value:e.isbn},on:{input:function(t){t.target.composing||(e.isbn=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"flex-left"},[e._v("\n      Titel\n    ")]),e._v(" "),n("div",{staticClass:"flex-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.manualData.title,expression:"manualData.title"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"has-error":e.errors.has("title")},attrs:{name:"title",placeholder:"Titel"},domProps:{value:e.manualData.title},on:{input:function(t){t.target.composing||(e.manualData.title=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"flex-left"},[e._v("\n      Sidor\n    ")]),e._v(" "),n("div",{staticClass:"flex-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.manualData.pages,expression:"manualData.pages"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"has-error":e.errors.has("pages")},attrs:{name:"pages",placeholder:"Antal sidor"},domProps:{value:e.manualData.pages},on:{input:function(t){t.target.composing||(e.manualData.pages=t.target.value)}}})]),e._v(" "),e.authorSelect?n("div",{staticClass:"flex-left"},[e._v("\n      Författare\n      "),n("button",{staticClass:"plus",on:{click:e.addAuthorModal}},[e._v("Ny författare\n      ")])]):e._e(),e._v(" "),e.authorSelect?n("div",{staticClass:"flex-right"},[n("v-select",{staticClass:"select-style",attrs:{value:e.authorId,options:e.authors,label:"fullName"}})],1):e._e(),e._v(" "),n("modal",{attrs:{name:"add-author",height:250}},[n("div",{staticClass:"add-author flex-box"},[n("h3",[e._v("Ny författare")]),e._v(" "),n("div",{staticClass:"flex-container"},[n("div",{staticClass:"flex-left-modal"},[e._v("\n              Förnamn\n            ")]),e._v(" "),n("div",{staticClass:"flex-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newAuthor.firstname,expression:"newAuthor.firstname"}],attrs:{placeholder:"Förnamn"},domProps:{value:e.newAuthor.firstname},on:{input:function(t){t.target.composing||(e.newAuthor.firstname=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"flex-left-modal"},[e._v("\n              Efternamn\n            ")]),e._v(" "),n("div",{staticClass:"flex-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newAuthor.lastname,expression:"newAuthor.lastname"}],attrs:{placeholder:"Efternamn"},domProps:{value:e.newAuthor.lastname},on:{input:function(t){t.target.composing||(e.newAuthor.lastname=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"modal-menu"},[n("div",{staticClass:"button add",on:{click:e.saveAuthor}},[e._v("Spara\n              ")]),e._v(" "),n("div",{staticClass:"button float close",on:{click:e.leaveModal}},[e._v("Stäng\n              ")])])])])]),e._v(" "),e._m(1)],1):e._e(),e._v(" "),e.posted?n("div",{staticClass:"published-message"},[e._v("Bok tillagd.\n  ")]):e._e(),e._v(" "),e.error?n("div",{staticClass:"published-message"},[e._v(e._s(e.errorMessage)+"\n  ")]):e._e()])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-box"},[n("button",{staticClass:"button add",attrs:{type:"submit"}},[e._v("Lägg till\n        ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-box"},[n("button",{staticClass:"button add",attrs:{type:"submit"}},[e._v("Lägg till\n      ")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"review-header flex-container"}),e._v(" "),n("h2",[e._v("Beskrivning")]),e._v(" "),n("audio-editor",{staticClass:"editor",attrs:{dataUrl:e.formattedAudioUrl(e.local.audio.description,e.local.source.description),source:e.local.source.description,isEditing:!0},on:{cut:e.updateData}}),e._v(" "),n("h2",[e._v("Recension")]),e._v(" "),n("audio-editor",{staticClass:"editor",attrs:{dataUrl:e.formattedAudioUrl(e.local.audio.review,e.local.source.review),source:e.local.source.review,isEditing:!0},on:{cut:e.updateData}}),e._v(" "),n("div",{staticClass:"button float save-activate",on:{click:e.saveAndClose}},[e._v("Aktivera\n  ")]),e._v(" "),n("div",{staticClass:"button float close",on:{click:e.closeModal}},[e._v("Stäng\n  ")])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"v-spinner"},[n("div",{staticClass:"v-sync v-sync1",style:[e.spinnerStyle,e.spinnerDelay1]}),n("div",{staticClass:"v-sync v-sync2",style:[e.spinnerStyle,e.spinnerDelay2]}),n("div",{staticClass:"v-sync v-sync3",style:[e.spinnerStyle,e.spinnerDelay3]})])},staticRenderFns:[]}}],[201]);
//# sourceMappingURL=app.e4ed25a6ac8ad899baf0.js.map